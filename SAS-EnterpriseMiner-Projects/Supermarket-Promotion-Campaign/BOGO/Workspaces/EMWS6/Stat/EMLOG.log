*------------------------------------------------------------*
User:                Mohamed
Date:                May 13, 2018
Time:                20:18:13
Site:                12400032
Platform:            X64_10HOME
Maintenance Release: 9.04.01M4P110916
EM Version:          14.2
* 
*------------------------------------------------------------*
* Training Log
Date:                May 13, 2018
Time:                20:18:04
*------------------------------------------------------------*
11408  proc freq data=EMWS6.Stat_VariableSet noprint;
11409  table ROLE*LEVEL/out=WORK.StatMETA;
11410  run;
 
NOTE: There were 13 observations read from the data set EMWS6.STAT_VARIABLESET.
NOTE: The data set WORK.STATMETA has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11411  proc print data=WORK.StatMETA label noobs;
11412  var ROLE LEVEL COUNT;
11413  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11414  title9 ' ';
11415  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11416  run;
 
NOTE: There were 6 observations read from the data set WORK.STATMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11417  title10;
 
11418  data WORK.M2_R_XRC;
11419  set WORK.M2_R_XRC;
11420  where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
11421  if ROLE = 'REJECTED' then role = 'INPUT';
11422  run;
 
NOTE: There were 10 observations read from the data set WORK.M2_R_XRC.
      WHERE (role in ('FREQ', 'INPUT', 'TARGET') and use in ('D', 'Y')) or ((role='REJECTED') and (use='Y'));
NOTE: The data set WORK.M2_R_XRC has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11423  *------------------------------------------------------------*;
11424  * Stat: Determining Analysis Variables;
11425  *------------------------------------------------------------*;
11426  *------------------------------------------------------------*;
11427  * Stat: Creating Macros for Variable Selection;
11428  *------------------------------------------------------------*;
11429  *------------------------------------------------------------* ;
11430  * Stat: Interval Input Variables Macro ;
11431  *------------------------------------------------------------* ;
11432  %macro INTINPUTS;
11433      DemAffl DemAge PromSpend PromTime
11434  %mend INTINPUTS;
11435  *------------------------------------------------------------*;
11436  * Stat: Creating Macros for Variable Selection;
11437  *------------------------------------------------------------*;
11438  *------------------------------------------------------------* ;
11439  * Stat: Binary and Nominal Input Variables Macro ;
11440  *------------------------------------------------------------* ;
11441  %macro NOMINPUTS;
11442      DemClusterGroup DemGender DemReg DemTVReg PromClass
11443  %mend NOMINPUTS;
11444  *------------------------------------------------------------*;
11445  * Stat: Creating Macros for Variable Selection;
11446  *------------------------------------------------------------*;
11447  *------------------------------------------------------------* ;
11448  * Stat: Ordinal Input Variables Macro ;
11449  *------------------------------------------------------------* ;
11450  %macro ORDINPUTS;
11451
11452  %mend ORDINPUTS;
11453  data work.EM_Stat_tree / view=work.EM_Stat_tree;
11454  set EMWS6.Ids_DATA(obs=100000 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS TargetBuy);
11455  run;
 
NOTE: DATA STEP view saved on file WORK.EM_STAT_TREE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.07 seconds
 
 
11456  proc arbor data=EMWS6.Ids_DATA(obs=100000 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS TargetBuy) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1 Padjust= NONE NORULELIMIT MAXRULES=9 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
WARNING: PADJUST and PVAR options are ignored with this splitting criterion.
11457  input %INTINPUTS / level = interval;
11458  input %NOMINPUTS / level=nominal;
11459  target TargetBuy / level=BINARY;
11460  Performance Disk NodeSize=10000;
11461  Assess NoValidata measure=MISC;
NOTE: 1602178 kilobytes of physical memory.
NOTE: Will use 22223 out of 22223 training cases.
NOTE: Using memory pool with 145998848 bytes.
NOTE: Passed training data 2 times.
NOTE: Training used 2571664 bytes of work memory.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
11462  SUBTREE BEST;
NOTE: Using subtree with 6 nodes and 5 leaves.
11463  save RULES=WORK.Stat_RULE;
NOTE: The data set WORK.STAT_RULE has 94 observations and 6 variables.
11464  run;
 
11465  quit;
 
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.78 seconds
      cpu time            0.65 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: There were 22223 observations read from the data set EMWS6.IDS_DATA.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.83 seconds
      cpu time            0.68 seconds
 
 
11466  data WORK.Stat_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
11467  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,      NOQUOTE))" Name = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" Rank = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))" Numeric_Value =
11468     "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,       NOQUOTE))" StatVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_analysisVar_vlabel, NOQUOTE))";
11469  length Target $32 Name $32;
11470  retain TARGET "TargetBuy" Name;
11471  format STATVAR 6.0;
11472  set WORK.Stat_RULE;
11473  where stat in('VARIABLE','WORTH');
11474  if stat = 'VARIABLE' then Name = character_value;
11475  else do;
11476  if _N_<= 2*1000 then STATVAR=1;
11477  else STATVAR=0;
11478  output;
11479  end;
11480  run;
 
NOTE: There were 18 observations read from the data set WORK.STAT_RULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK.STAT_RULE has 9 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11481  proc append base=EMWS6.Stat_WORTH data=WORK.Stat_RULE force;
11482  run;
 
NOTE: Appending WORK.STAT_RULE to EMWS6.STAT_WORTH.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 9 observations read from the data set WORK.STAT_RULE.
NOTE: The data set EMWS6.STAT_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11483  *------------------------------------------------------------*;
11484  * Stat: Counting Levels;
11485  *------------------------------------------------------------*;
11486  proc sql;
11487  create view WORK.Stat_distinct as select distinct ID from EMWS6.Ids_DATA(obs=100000);
NOTE: SQL view WORK.STAT_DISTINCT has been defined.
11488  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11489  proc sql;
11490  reset noprint;
11491  select count(*) into :_tmpcount from WORK.Stat_distinct;
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.10 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
11492  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
 
 
11493  proc sql;
11494  create view WORK.Stat_distinct as select distinct TargetBuy from EMWS6.Ids_DATA(obs=100000);
NOTE: SQL view WORK.STAT_DISTINCT has been defined.
11495  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11496  proc sql;
11497  reset noprint;
11498  select count(*) into :_tmpcount from WORK.Stat_distinct;
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
11499  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
11500  proc sort data=WORK.Stat_count NOTHREADS;
11501  by NAME ROLE DATA;
11502  run;
 
NOTE: There were 2 observations read from the data set WORK.STAT_COUNT.
NOTE: The data set WORK.STAT_COUNT has 2 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11503  proc print data=WORK.Stat_count(obs=500) label noobs;
11504  label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,       NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,       NOQUOTE))";
11505  var NAME ROLE COUNT;
11506  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_varLevels_title, NOQUOTE))";
11507  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11508  run;
 
NOTE: There were 2 observations read from the data set WORK.STAT_COUNT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11509  title9;
11510  title10;
 
11511  proc sort data=EMWS6.Stat_WORTH nodupkey out=WORK.Stat_SELVAR(keep=Name StatVar);
11512  by NAME;
11513  where statvar=1;
11514  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT_WORTH.
      WHERE statvar=1;
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.STAT_SELVAR has 9 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11515  proc sort data=EMWS6.Stat_WORTH;
11516  by Rank;
11517  where statvar=1;
11518  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT_WORTH.
      WHERE statvar=1;
NOTE: The data set EMWS6.STAT_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11519  proc sort data=WORK.M0NAILQK;
11520  by name;
11521  run;
 
NOTE: There were 13 observations read from the data set WORK.M0NAILQK.
NOTE: The data set WORK.M0NAILQK has 13 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11522  data WORK.Stat_analysisMeta;
11523  merge WORK.M0NAILQK WORK.Stat_SELVAR(in=_a);
11524  by name;
11525  if _a then STATVAR = 1;
11526  else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
11527  if REPORT eq 'Y' then STATVAR = 1;
11528  run;
 
NOTE: There were 13 observations read from the data set WORK.M0NAILQK.
NOTE: There were 9 observations read from the data set WORK.STAT_SELVAR.
NOTE: The data set WORK.STAT_ANALYSISMETA has 11 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
11529  data WORK.M0D248KC;
11530  set WORK.M0D248KC;
11531  where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11532  if ROLE = 'SEGMENT' then delete;
11533  else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
11534  run;
 
NOTE: There were 10 observations read from the data set WORK.M0D248KC.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M0D248KC has 10 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11535  data WORK.M1BR5BVC;
11536  set WORK.M1BR5BVC;
11537  where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11538  if ROLE ne 'FREQ' then role = 'INPUT';
11539  run;
 
NOTE: There were 10 observations read from the data set WORK.M1BR5BVC.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'SEGMENT', 'TARGET') and (use='D'));
NOTE: The data set WORK.M1BR5BVC has 10 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11540  *------------------------------------------------------------*;
11541  * Stat: Computing Statistics for Interval Variables;
11542  *------------------------------------------------------------*;
11543  proc dmdb data=EMWS6.Ids_DATA(obs=100000) nonorm maxlevel=513
11544  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11545  classout=WORK.StatCLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11546  ;
11547  var
11548  DemAffl DemAge PromSpend PromTime
11549  ;
11550  class
11551  DemClusterGroup DemGender DemReg DemTVReg PromClass TargetBuy
11552  ;
11553  ;
11554  run;
 
NOTE: Records processed = 22223   Memory used = 511K.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: There were 22223 observations read from the data set EMWS6.IDS_DATA.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STATCLASS has 38 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
 
11555  proc stdize data = EMWS6.Ids_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11556  var
11557  DemAffl DemAge PromSpend PromTime
11558  ;
11559  run;
 
NOTE: INITIAL= will be ignored.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.18 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: There were 22223 observations read from the data set EMWS6.IDS_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.24 seconds
      cpu time            0.21 seconds
 
 
11560  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11561  id _type_;
11562  where _TYPE_='P50';
11563  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11564  proc sort data=work._TRANSSTDIZE;
11565  by VARIABLE;
11566  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11567  proc sort data=work._DMDBVAR;
11568  by VARIABLE;
11569  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11570  data WORK.StatINTERVAL;
11571  merge work._TRANSSTDIZE work._DMDBVAR;
11572  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11573  by VARIABLE;
11574  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11575  proc sort data=WORK.StatCLASS;
11576  by Variable Level;
11577  run;
 
NOTE: There were 38 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 38 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 13 observations read from the data set WORK._STDIZE.
NOTE: The data set EMWS6.STAT_TRAINPCTLS has 13 observations and 5 variables.
11578  data colorindex;
11579  retain LevelIndex 0;
11580  set WORK.StatCLASS(keep=Variable Level);
11581  by variable level;
11582  if first.variable then LevelIndex = 0;
11583  if first.level then LevelIndex + 1;
11584  run;
 
NOTE: There were 38 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.COLORINDEX has 38 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11585  data WORK.StatCLASS;
11586  merge WORK.StatCLASS(in=_a) colorindex;
11587  by variable level;
11588  if _a then output;
11589  run;
 
NOTE: There were 38 observations read from the data set WORK.STATCLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STATCLASS has 38 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11590  data WORK.StatINTERVAL;
11591  length DATAROLE $20;
11592  retain DATAROLE "TRAIN";
11593  length Target $32 TargetValue $32;
11594  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11595  retain Target '_OVERALL_';
11596  set WORK.StatINTERVAL;
11597  run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11598  proc append base=EMWS6.Stat_INTERVAL data=WORK.StatINTERVAL force;
11599  run;
 
NOTE: Appending WORK.STATINTERVAL to EMWS6.STAT_INTERVAL.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 4 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11600  data WORK.StatCLASS;
11601  length DATAROLE $20;
11602  retain DATAROLE "TRAIN";
11603  length Target $32 TargetValue $32;
11604  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11605  retain Target '_OVERALL_';
11606  set WORK.StatCLASS;
11607  run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 38 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 38 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11608  proc append base=EMWS6.Stat_CLASS data=WORK.StatCLASS force;
11609  run;
 
NOTE: Appending WORK.STATCLASS to EMWS6.STAT_CLASS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 38 observations read from the data set WORK.STATCLASS.
NOTE: The data set EMWS6.STAT_CLASS has 38 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11610  data WORK.M0RXQCXH;
11611  set WORK.M0RXQCXH;
11612  where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11613  if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
11614  else if ROLE ne 'FREQ' then role = 'INPUT';
11615  run;
 
NOTE: There were 10 observations read from the data set WORK.M0RXQCXH.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M0RXQCXH has 9 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11616  proc freq data=EMWS6.Ids_DATA noprint;
11617  table
11618  TargetBuy / out=EMWS6.Stat_BYVAR(drop=COUNT PERCENT) missing;
11619  run;
 
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: There were 22223 observations read from the data set EMWS6.IDS_DATA.
NOTE: The data set EMWS6.STAT_BYVAR has 2 observations and 1 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds
 
 
11620  data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
11621  set EMWS6.Ids_DATA;
11622  where TargetBuy=0;
11623  run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
 
11624  *------------------------------------------------------------*;
11625  * Stat: Computing Statistics for Interval Variables;
11626  *------------------------------------------------------------*;
11627  proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
11628  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11629  classout=WORK.StatCLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11630  ;
11631  var
11632  DemAffl DemAge PromSpend PromTime
11633  ;
11634  class
11635  DemClusterGroup DemGender DemReg DemTVReg PromClass
11636  ;
11637  ;
11638  run;
 
NOTE: Records processed = 16718   Memory used = 511K.
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.11 seconds
 
NOTE: There were 16718 observations read from the data set EMWS6.IDS_DATA.
      WHERE TargetBuy=0;
NOTE: There were 16718 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STATCLASS has 36 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.15 seconds
      cpu time            0.12 seconds
 
 
11639  proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11640  var
11641  DemAffl DemAge PromSpend PromTime
11642  ;
11643  run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.26 seconds
      cpu time            0.26 seconds
 
NOTE: There were 16718 observations read from the data set EMWS6.IDS_DATA.
      WHERE TargetBuy=0;
NOTE: There were 16718 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.28 seconds
      cpu time            0.28 seconds
 
 
11644  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11645  id _type_;
11646  where _TYPE_='P50';
11647  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11648  proc sort data=work._TRANSSTDIZE;
11649  by VARIABLE;
11650  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11651  proc sort data=work._DMDBVAR;
11652  by VARIABLE;
11653  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11654  data WORK.StatINTERVAL;
11655  merge work._TRANSSTDIZE work._DMDBVAR;
11656  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11657  by VARIABLE;
11658  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11659  proc sort data=WORK.StatCLASS;
11660  by Variable Level;
11661  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 36 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11662  data WORK.StatCLASS;
11663  merge WORK.StatCLASS(in=_a) colorindex;
11664  by variable level;
11665  if _a then output;
11666  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STATCLASS has 36 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11667  data WORK.StatINTERVAL;
11668  length DATAROLE $20;
11669  retain DATAROLE "TRAIN";
11670  length Target $32 TargetValue $32;
11671  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11672  Target = "TargetBuy";
11673  TargetValue = '0';
11674  set WORK.StatINTERVAL;
11675  run;
 
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11676  proc append base=EMWS6.Stat_INTERVAL data=WORK.StatINTERVAL force;
11677  run;
 
NOTE: Appending WORK.STATINTERVAL to EMWS6.STAT_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: 4 observations added.
NOTE: The data set EMWS6.STAT_INTERVAL has 8 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11678  data WORK.StatCLASS;
11679  length DATAROLE $20;
11680  retain DATAROLE "TRAIN";
11681  length Target $32 TargetValue $32;
11682  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11683  Target = "TargetBuy";
11684  TargetValue = '0';
11685  set WORK.StatCLASS;
11686  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 36 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11687  proc append base=EMWS6.Stat_CLASS data=WORK.StatCLASS force;
11688  run;
 
NOTE: Appending WORK.STATCLASS to EMWS6.STAT_CLASS.
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: 36 observations added.
NOTE: The data set EMWS6.STAT_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11689  data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
11690  set EMWS6.Ids_DATA;
11691  where TargetBuy=1;
11692  run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
11693  *------------------------------------------------------------*;
11694  * Stat: Computing Statistics for Interval Variables;
11695  *------------------------------------------------------------*;
11696  proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
11697  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11698  classout=WORK.StatCLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11699  ;
11700  var
11701  DemAffl DemAge PromSpend PromTime
11702  ;
11703  class
11704  DemClusterGroup DemGender DemReg DemTVReg PromClass
11705  ;
11706  ;
11707  run;
 
NOTE: Records processed = 5505   Memory used = 511K.
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.12 seconds
 
NOTE: There were 5505 observations read from the data set EMWS6.IDS_DATA.
      WHERE TargetBuy=1;
NOTE: There were 5505 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STATCLASS has 36 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.17 seconds
      cpu time            0.15 seconds
 
 
11708  proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11709  var
11710  DemAffl DemAge PromSpend PromTime
11711  ;
11712  run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
 
NOTE: There were 5505 observations read from the data set EMWS6.IDS_DATA.
      WHERE TargetBuy=1;
NOTE: There were 5505 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.23 seconds
      cpu time            0.23 seconds
 
 
11713  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11714  id _type_;
11715  where _TYPE_='P50';
11716  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
 
 
11717  proc sort data=work._TRANSSTDIZE;
11718  by VARIABLE;
11719  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11720  proc sort data=work._DMDBVAR;
11721  by VARIABLE;
11722  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11723  data WORK.StatINTERVAL;
11724  merge work._TRANSSTDIZE work._DMDBVAR;
11725  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11726  by VARIABLE;
11727  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11728  proc sort data=WORK.StatCLASS;
11729  by Variable Level;
11730  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 36 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11731  data WORK.StatCLASS;
11732  merge WORK.StatCLASS(in=_a) colorindex;
11733  by variable level;
11734  if _a then output;
11735  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STATCLASS has 36 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11736  data WORK.StatINTERVAL;
11737  length DATAROLE $20;
11738  retain DATAROLE "TRAIN";
11739  length Target $32 TargetValue $32;
11740  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11741  Target = "TargetBuy";
11742  TargetValue = '1';
11743  set WORK.StatINTERVAL;
11744  run;
 
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: The data set WORK.STATINTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11745  proc append base=EMWS6.Stat_INTERVAL data=WORK.StatINTERVAL force;
11746  run;
 
NOTE: Appending WORK.STATINTERVAL to EMWS6.STAT_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STATINTERVAL.
NOTE: 4 observations added.
NOTE: The data set EMWS6.STAT_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11747  data WORK.StatCLASS;
11748  length DATAROLE $20;
11749  retain DATAROLE "TRAIN";
11750  length Target $32 TargetValue $32;
11751  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11752  Target = "TargetBuy";
11753  TargetValue = '1';
11754  set WORK.StatCLASS;
11755  run;
 
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 36 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11756  proc append base=EMWS6.Stat_CLASS data=WORK.StatCLASS force;
11757  run;
 
NOTE: Appending WORK.STATCLASS to EMWS6.STAT_CLASS.
NOTE: There were 36 observations read from the data set WORK.STATCLASS.
NOTE: 36 observations added.
NOTE: The data set EMWS6.STAT_CLASS has 110 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11758  proc sort data=EMWS6.Stat_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
11759  by name;
11760  run;
 
NOTE: There were 13 observations read from the data set EMWS6.STAT_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 13 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11761  proc sort data=EMWS6.Stat_CLASS;
11762  by Variable;
11763  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT_CLASS.
NOTE: The data set EMWS6.STAT_CLASS has 110 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11764  data EMWS6.Stat_CLASS;
11765  merge EMWS6.Stat_CLASS(in=_a) tempVariable;
11766  by variable;
11767  if label = '' then label=Variable;
11768  if _a then output;
11769  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 110 observations read from the data set EMWS6.STAT_CLASS.
NOTE: There were 13 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT_CLASS has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11770  proc sort data=EMWS6.Stat_INTERVAL NOTHREADS;
11771  by DATAROLE
11772  Target TargetValue
11773  ;
11774  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11775  run;
11776  proc sort data=EMWS6.Stat_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
11777  by name;
11778  run;
 
NOTE: There were 13 observations read from the data set EMWS6.STAT_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 13 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11779  proc sort data=EMWS6.Stat_INTERVAL;
11780  by Variable;
11781  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11782  data EMWS6.Stat_INTERVAL;
11783  merge EMWS6.Stat_INTERVAL(in=_a) tempVariable;
11784  by variable;
11785  if label = '' then label=Variable;
11786  if _a then output;
11787  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 12 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: There were 13 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT_INTERVAL has 12 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11788  proc datasets library=EMWS6 nolist;
11789  modify Stat_INTERVAL;
11790  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))";
11791  label Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
11792  label MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))";
11793  label N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))";
11794  label STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))";
11795  label NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
11796  label p50 = "%sysfunc(sasmsg(sashelp.dmine, rpt_median_vlabel, NOQUOTE))";
11797  label MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))";
11798  label MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))";
11799  label SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))";
11800  label KURTOSIS = "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
11801  label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
11802  run;
 
NOTE: MODIFY was successful for EMWS6.STAT_INTERVAL.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
 
 
11803  proc sort data=EMWS6.Stat_CLASS NOTHREADS;
11804  by DATAROLE ROLE Variable descending COUNT;
11805  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT_CLASS.
NOTE: The data set EMWS6.STAT_CLASS has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11806  data WORK.StatCLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
11807  set EMWS6.Stat_CLASS;
11808  length Mode Mode2 $32;
11809  retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
11810  by DATAROLE ROLE Variable;
11811  if first.DATAROLE or first.variable then do;
11812  Numcat = 1;
11813  NMiss = 0;
11814  Mode = strip(LEVEL);
11815  ModePct = PERCENT;
11816  Mode2 = '';
11817  Mode2Pct = 0;
11818  end;
11819  else Numcat +1;
11820  if Numcat =2 then do;
11821  Mode2 = strip(LEVEL);
11822  Mode2Pct = PERCENT;
11823  end;
11824  if NRAW=. and CRAW='' then NMiss= COUNT;
11825  if last.DATAROLE or last.variable then output;
11826  where TARGET='_OVERALL_';
11827  run;
 
NOTE: There were 38 observations read from the data set EMWS6.STAT_CLASS.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STATCLASS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11828  %let _cn = %sysfunc(getoption(CENTER));
11829  %let _nb = %sysfunc(getoption(NUMBER));
11830  options nonumber nocenter;
11831  title;
11832  title9 ' ';
11833  proc print data=WORK.StatCLASS(obs=500) label noobs;
11834  var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
11835  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS =
11836     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 =
11837     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
11838  format ModePct Mode2Pct 5.2;
11839  by DATAROLE;
11840  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classStats_title,     NOQUOTE))";
11841  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
11842  run;
 
NOTE: There were 6 observations read from the data set WORK.STATCLASS.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.08 seconds
      cpu time            0.07 seconds
 
 
11843  proc print data=EMWS6.Stat_CLASS(obs=500) noobs label;
11844  var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
11845  where ROLE in('TARGET', 'SEGMENT');
11846  by DATAROLE;
11847  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" COUNT =
11848     "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,        NOQUOTE))";
11849  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classTargetSegmentDist_title, NOQUOTE))";
11850  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,          NOQUOTE))";
11851  run;
 
NOTE: There were 2 observations read from the data set EMWS6.STAT_CLASS.
      WHERE ROLE in ('SEGMENT', 'TARGET');
NOTE: The PROCEDURE PRINT printed page 4.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
11852  title9;
11853  title10;
11854  options &_cn &_nb;
 
11855  data WORK.StatINTERVALSUMMARY;
11856  set EMWS6.Stat_INTERVAL;
11857  length ROLE $32;
11858  where TARGET='_OVERALL_';
11859  if Variable = "DemAffl" then ROLE="INPUT";
11860  else
11861  if Variable = "DemAge" then ROLE="INPUT";
11862  else
11863  if Variable = "PromSpend" then ROLE="INPUT";
11864  else
11865  if Variable = "PromTime" then ROLE="INPUT";
11866  run;
 
NOTE: There were 4 observations read from the data set EMWS6.STAT_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STATINTERVALSUMMARY has 4 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11867  proc sort data=WORK.StatINTERVALSUMMARY NOTHREADS;
11868  by DATAROLE ROLE Variable;
11869  run;
 
NOTE: There were 4 observations read from the data set WORK.STATINTERVALSUMMARY.
NOTE: The data set WORK.STATINTERVALSUMMARY has 4 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11870  %let _cn = %sysfunc(getoption(CENTER));
11871  %let _nb = %sysfunc(getoption(NUMBER));
11872  options nonumber nocenter;
11873  title;
11874  proc print data=WORK.StatINTERVALSUMMARY(obs=500) label noobs;
11875  var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
11876  by DATAROLE;
11877  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalStats_title, NOQUOTE))";
11878  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11879  run;
 
NOTE: There were 4 observations read from the data set WORK.STATINTERVALSUMMARY.
NOTE: The PROCEDURE PRINT printed page 5.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11880  title9;
11881  title10;
11882  options &_cn &_nb;
 
11883  proc sort data=EMWS6.Stat_CLASS NOTHREADS;
11884  by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
11885  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT_CLASS.
NOTE: Duplicate BY variable(s) specified. Duplicates will be ignored.
NOTE: The data set EMWS6.STAT_CLASS has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11886  data WORK.StatCLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
11887  set EMWS6.Stat_CLASS;
11888  length Mode Mode2 $32;
11889  retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
11890  by DATAROLE DATAROLE Target TargetValue Variable;
11891  if first.datarole or first.variable then do;
11892  Numcat = 1;
11893  NMiss = 0;
11894  Mode = LEVEL;
11895  ModePct = PERCENT;
11896  Mode2 = '';
11897  Mode2Pct = 0;
11898  end;
11899  else Numcat +1;
11900  if Numcat =2 then do;
11901  Mode2 = LEVEL;
11902  Mode2Pct = PERCENT;
11903  end;
11904  if NRAW=. and CRAW='' then NMiss= COUNT;
11905  if last.datarole or last.variable then output;
11906  where ROLE ^in('TARGET', 'SEGMENT');
11907  run;
 
NOTE: There were 108 observations read from the data set EMWS6.STAT_CLASS.
      WHERE ROLE not in ('SEGMENT', 'TARGET');
NOTE: The data set WORK.STATCLASS has 15 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11908  proc sort data=WORK.StatCLASS NOTHREADS;
11909  by DATAROLE
11910  VARIABLE Target TargetValue;
11911  run;
 
NOTE: There were 15 observations read from the data set WORK.STATCLASS.
NOTE: The data set WORK.STATCLASS has 15 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11912  %let _cn = %sysfunc(getoption(CENTER));
11913  %let _nb = %sysfunc(getoption(NUMBER));
11914  options nonumber nocenter;
11915  title;
11916  title9 ' ';
11917  proc print data=WORK.StatCLASS(obs=500) label noobs;
11918  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE =
11919     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT =
11920     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
11921  format ModePct Mode2Pct 5.2;
11922  by DATAROLE;
11923  label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
11924  var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
11925  by DATAROLE VARIABLE;
11926  title9 "Class Variable Summary Statistics by Class Target";
11927  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11928  run;
 
NOTE: There were 15 observations read from the data set WORK.STATCLASS.
NOTE: The PROCEDURE PRINT printed page 6.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11929  title9;
11930  title10;
11931  options &_cn &_nb;
 
11932  proc sort data=EMWS6.Stat_INTERVAL NOTHREADS;
11933  by DATAROLE Variable
11934  Target
11935  TargetValue
11936  ;
11937  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 12 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11938  %let _cn = %sysfunc(getoption(CENTER));
11939  %let _nb = %sysfunc(getoption(NUMBER));
11940  options nonumber nocenter;
11941  title;
11942  proc print data=EMWS6.Stat_INTERVAL(obs=500) label noobs;
11943  by DATAROLE Variable
11944  ;
11945  title9 "Interval Variable Summary Statistics by Class Target";
11946  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11947  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The PROCEDURE PRINT printed page 7.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11948  title9;
11949  title10;
11950  options &_cn &_nb;
 
11951  *------------------------------------------------------------*;
11952  * Stat: Computing Chi-Square Statistics;
11953  *------------------------------------------------------------*;
11954  ods listing close;
11955  ods output chisq=WORK.TEMPCHISQUARE;
11956  ods output crosstabFreqs=WORK.TEMPCROSSTAB;
11957  proc freq data=EMWS6.Ids_DATA(obs=100000) order=formatted addnames;
11958  table TargetBuy*DemClusterGroup /missing chisq outexpect sparse;
11959  table TargetBuy*DemGender /missing chisq outexpect sparse;
11960  table TargetBuy*DemReg /missing chisq outexpect sparse;
11961  table TargetBuy*DemTVReg /missing chisq outexpect sparse;
11962  table TargetBuy*PromClass /missing chisq outexpect sparse;
11963  ;
11964  run;
 
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.16 seconds
      cpu time            0.14 seconds
 
NOTE: There were 22223 observations read from the data set HW2.HW2_BA8880_SUPERMARKETDATASET.
NOTE: The data set WORK.TEMPCROSSTAB has 123 observations and 16 variables.
NOTE: The data set WORK.TEMPCHISQUARE has 30 observations and 8 variables.
NOTE: There were 22223 observations read from the data set EMWS6.IDS_DATA.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.21 seconds
      cpu time            0.18 seconds
 
 
11965  quit;
11966  ods listing;
11967  data WORK.StatCHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
11968  length TARGET INPUT $32;
11969  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel ,      NOQUOTE))" INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CRAMERV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cramerv_vlabel ,     NOQUOTE))" CORRVALUE =
11970     "%sysfunc(sasmsg(sashelp.dmine, rpt_correlation_vlabel , NOQUOTE))" PROBCHI = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" CHIDF =
11971     "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
11972  retain CHIMEASURE CHIDF PROBCHI;
11973  format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
11974  set WORK.TEMPCHISQUARE;
11975  Target = strip(RowVariable);
11976  Input = strip(ColVariable);
11977  where StatisticId in('_CRAMV_','_PCHI_');
11978  if StatisticId = '_PCHI_' then do;
11979  PROBCHI = Prob;
11980  CHIMEASURE = VALUE;
11981  CHIDF = DF;
11982  end;
11983  else do;
11984  CRAMERV = abs(VALUE);
11985  OUTPUT;
11986  end;
11987  run;
 
NOTE: Variable CORRVALUE is uninitialized.
NOTE: There were 10 observations read from the data set WORK.TEMPCHISQUARE.
      WHERE StatisticId in ('_CRAMV_', '_PCHI_');
NOTE: The data set WORK.STATCHI2 has 5 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11988  proc sort data=WORK.TEMPCROSSTAB;
11989  by RowVariable ColVariable _Type_;
11990  where _Type_ in('11','00');
11991  run;
 
NOTE: There were 77 observations read from the data set WORK.TEMPCROSSTAB.
      WHERE _Type_ in ('00', '11');
NOTE: The data set WORK.TEMPCROSSTAB has 77 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11992  data WORK.StatCHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
11993  retain N;
11994  dsid = open("WORK.TEMPCROSSTAB");
11995  rowvarnum = varnum(dsid, 'RowVariable');
11996  colvarnum = varnum(dsid, 'ColVariable');
11997  freqnum = varnum(dsid, 'FREQUENCY');
11998  rownum = varnum(dsid, 'RowPercent');
11999  colnum = varnum(dsid, 'ColPercent');
12000  typenum = varnum(dsid, '_TYPE_');
12001  length YVAR XVAR $32 YTEXT $32 XTEXT $32;
12002  do while(^fetch(dsid));
12003  COUNT = getvarn(dsid, freqnum);
12004  YVAR = (getvarc(dsid, rowvarnum));
12005  XVAR = strip(getvarc(dsid, colvarnum));
12006  ynum = varnum(dsid, YVAR);
12007  ytype = vartype(dsid, ynum);
12008  yformat = varfmt(dsid, ynum);
12009  if yformat eq '' then yformat = 'best12.';
12010  Y=.;
12011  if ytype = 'N' then do;
12012  Y = getvarn(dsid, ynum);
12013  YTEXT = left(putn(Y, yformat));
12014  end;
12015  else YTEXT = getvarc(dsid, ynum);
12016  xnum = varnum(dsid, XVAR);
12017  xtype = vartype(dsid, xnum);
12018  xformat = varfmt(dsid, xnum);
12019  if xformat eq '' then xformat = 'best12.';
12020  X=.;
12021  if xtype = 'N' then do;
12022  X = getvarn(dsid, xnum);
12023  XTEXT = left(putn(X, xformat));
12024  end;
12025  else XTEXT = getvarc(dsid, xnum);
12026  if getvarc(dsid, typenum)= '00' then N= count;
12027  else do;
12028  EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
12029  if exp >0 then do;
12030  CHISQUARE=(EXP-count)**2/(EXP);
12031  if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
12032  OUTPUT;
12033  end;
12034  end;
12035  end;
12036  dsid = close(dsid);
12037  run;
 
NOTE: The data set WORK.STATCHI has 72 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12038  data WORK.StatCHI;
12039  length DATAROLE $20;
12040  retain DATAROLE "TRAIN";
12041  SegmentVar = "";
12042  SegmentValue = "";
12043  SegmentId = "_OVERALL_";
12044  set WORK.StatCHI;
12045  run;
 
NOTE: There were 72 observations read from the data set WORK.STATCHI.
NOTE: The data set WORK.STATCHI has 72 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12046  proc append base=EMWS6.Stat_CHI2 data=WORK.StatCHI force;
12047  run;
 
NOTE: Appending WORK.STATCHI to EMWS6.STAT_CHI2.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 72 observations read from the data set WORK.STATCHI.
NOTE: The data set EMWS6.STAT_CHI2 has 72 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12048  data WORK.StatCHI2;
12049  length DATAROLE $20;
12050  retain DATAROLE "TRAIN";
12051  SegmentVar = "";
12052  SegmentValue = "";
12053  SegmentId = "_OVERALL_";
12054  set WORK.StatCHI2;
12055  run;
 
NOTE: There were 5 observations read from the data set WORK.STATCHI2.
NOTE: The data set WORK.STATCHI2 has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12056  proc append base=EMWS6.Stat_CHIMEASURE data=WORK.StatCHI2 force;
12057  run;
 
NOTE: Appending WORK.STATCHI2 to EMWS6.STAT_CHIMEASURE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 5 observations read from the data set WORK.STATCHI2.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12058  proc sort data=EMWS6.Stat_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
12059  by name;
12060  run;
 
NOTE: There were 13 observations read from the data set EMWS6.STAT_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 13 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
12061  proc sort data=EMWS6.Stat_CHI2;
12062  by XVAR;
12063  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT_CHI2.
NOTE: The data set EMWS6.STAT_CHI2 has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12064  data EMWS6.Stat_CHI2;
12065  merge EMWS6.Stat_CHI2(in=_a) tempVariable;
12066  by XVAR;
12067  if XLabel = '' then XLabel=XVAR;
12068  if _a then output;
12069  run;
 
WARNING: Multiple lengths were specified for the BY variable XVAR by input data sets. This might cause unexpected results.
NOTE: There were 72 observations read from the data set EMWS6.STAT_CHI2.
NOTE: There were 13 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT_CHI2 has 72 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12070  proc datasets library=EMWS6 nolist;
12071  modify Stat_CHI2;
12072  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))";
12073  label SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
12074  label SEGMENTID = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,      NOQUOTE))";
12075  label SegmentValue= "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))";
12076  label YVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,         NOQUOTE))";
12077  label XVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,          NOQUOTE))";
12078  label X = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputNumValue_vlabel,  NOQUOTE))";
12079  label Y = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetNumValue_vlabel, NOQUOTE))";
12080  label XTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputFmtValue_vlabel,  NOQUOTE))";
12081  label YTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetFmtValue_vlabel, NOQUOTE))";
12082  label COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))";
12083  label CHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chiSquare_vlabel,      NOQUOTE))";
12084  label LOGCHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_logChiSquare_vlabel,   NOQUOTE))";
12085  run;
 
NOTE: MODIFY was successful for EMWS6.STAT_CHI2.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.08 seconds
      cpu time            0.09 seconds
 
 
12086  proc sort data=EMWS6.Stat_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
12087  by name;
12088  run;
 
NOTE: There were 13 observations read from the data set EMWS6.STAT_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 13 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12089  proc sort data=EMWS6.Stat_CHIMEASURE;
12090  by INPUT;
12091  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12092  data EMWS6.Stat_CHIMEASURE;
12093  merge EMWS6.Stat_CHIMEASURE(in=_a) tempVariable;
12094  by INPUT;
12095  if label = '' then label=INPUT;
12096  if _a then output;
12097  run;
 
WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might cause unexpected results.
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: There were 13 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12098  proc sort data=EMWS6.Stat_CHIMEASURE NOTHREADS;
12099  by DATAROLE TARGET descending CRAMERV;
12100  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12101  data EMWS6.Stat_CHIMEASURE;
12102  set EMWS6.Stat_CHIMEASURE;
12103  label ORDEREDINPUTS = "%sysfunc(sasmsg(sashelp.dmine, rpt_orderedInput_vlabel  , NOQUOTE))" DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" SEGMENTID =
12104     "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,       NOQUOTE))" SegmentValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))" SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
12105  format ORDEREDINPUTS 5.0;
12106  retain ORDEREDINPUTS 0;
12107  if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
12108  else ORDEREDINPUTS+1;
12109  by DATAROLE SEGMENTID TARGET;
12110  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12111  %let _cn = %sysfunc(getoption(CENTER));
12112  %let _nb = %sysfunc(getoption(NUMBER));
12113  options nonumber nocenter;
12114  title;
12115  proc print data=EMWS6.Stat_CHIMEASURE(obs=500) label noobs;
12116  var INPUT CHIMEASURE DF PROB;
12117  label INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" PROB = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" DF =
12118     "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
12119  by DATAROLE TARGET;
12120  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquareStats_title, NOQUOTE))";
12121  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
12122  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The PROCEDURE PRINT printed page 8.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
 
 
12123  title10;
12124  options &_cn &_nb;
12125  proc sort data=EMWS6.Stat_CHIMEASURE out=trainChimeasure;
12126  by TARGET descending CramerV;
12127  where DATAROLE='TRAIN';
12128  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
      WHERE DATAROLE='TRAIN';
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12129  data trainChimeasure;
12130  set trainchimeasure;
12131  by TARGET;
12132  retain groupcount 0;
12133  if first.Target then groupcount =1;
12134  else groupcount + 1;
12135  if groupcount<21 then Plot=1;
12136  else Plot = 0;
12137  keep Target Input GroupCount Plot;
12138  run;
 
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12139  proc sort data=trainChiMeasure;
12140  by TARGET INPUT;
12141  run;
 
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12142  proc sort data=EMWS6.Stat_CHIMEASURE;
12143  by TARGET INPUT;
12144  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12145  data EMWS6.Stat_CHIMEASURE;
12146  merge EMWS6.Stat_CHIMEASURE trainchimeasure;
12147  by TARGET INPUT;
12148  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" Plot = "%sysfunc(sasmsg(sashelp.dmine, rpt_plot_vlabel,  NOQUOTE))" groupcount = "%sysfunc(sasmsg(sashelp.dmine, rpt_group_vlabel, NOQUOTE))";
12149  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12150  proc sort data=EMWS6.Stat_CLASS(drop=CRAW NRAW) NOTHREADS;
12151  by DATAROLE TARGET VARIABLE LEVEL;
12152  where TARGET ne '_OVERALL_';
12153  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: The data set EMWS6.STAT_CLASS has 72 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12154  data WORK.StattempDs(keep=DATAROLE target VARIABLE nobs);
12155  retain nobs;
12156  set EMWS6.Stat_CLASS;
12157  by DATAROLE target VARIABLE;
12158  if first.DATAROLE or first.variable then nobs=count;
12159  else nobs = nobs + count;
12160  if last.DATAROLE or last.variable then output;
12161  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT_CLASS.
NOTE: The data set WORK.STATTEMPDS has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12162  data EMWS6.Stat_CLASS(drop=NOBS);
12163  merge EMWS6.Stat_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.StattempDs;
12164  label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,         NOQUOTE))" withinpct = "%sysfunc(sasmsg(sashelp.dmine, rpt_percentwithin_vlabel, NOQUOTE))";
12165  by DATAROLE TARGET VARIABLE;
12166  if NOBS>0 then PERCENT=COUNT/NOBS;
12167  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 5 observations read from the data set WORK.STATTEMPDS.
NOTE: The data set EMWS6.STAT_CLASS has 72 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12168  proc sort data=EMWS6.Stat_CHIMEASURE out=WORK.Statcutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
12169  by DATAROLE TARGET INPUT;
12170  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set WORK.STATCUTOFF has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
12171  data EMWS6.Stat_CLASS;
12172  drop groupcount;
12173  retain groupcount 0;
12174  merge EMWS6.Stat_CLASS(in=_a) WORK.Statcutoff;
12175  if _a then do;
12176  plot=1;
12177  groupcount+1;
12178  end;
12179  if groupcount>21 then plot=0;
12180  by DATAROLE Target Variable;
12181  if PERCENT eq . or plot = . then delete;
12182  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" TYPE = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,           NOQUOTE))" COUNT =
12183     "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVELINDEX = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelIndex_vlabel,     NOQUOTE))";
12184  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT_CLASS.
NOTE: There were 5 observations read from the data set WORK.STATCUTOFF.
NOTE: The data set EMWS6.STAT_CLASS has 72 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
12185  proc sort data=EMWS6.Stat_CHIMEASURE;
12186  by DATAROLE ORDEREDINPUTS;
12187  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT_CHIMEASURE.
NOTE: The data set EMWS6.STAT_CHIMEASURE has 5 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12188  data WORK.StatINTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
12189  set EMWS6.Stat_INTERVAL;
12190  where TARGET='_OVERALL_';
12191  run;
 
NOTE: There were 4 observations read from the data set EMWS6.STAT_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STATINTERVALPLOT has 4 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12192  data EMWS6.Stat_INTERVAL(drop=OMean);
12193  merge EMWS6.Stat_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.StatINTERVALPLOT;
12194  by DATAROLE Variable;
12195  if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
12196  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT_INTERVAL.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 4 observations read from the data set WORK.STATINTERVALPLOT.
NOTE: The data set EMWS6.STAT_INTERVAL has 8 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12197  proc sort data=EMWS6.Stat_INTERVAL NOTHREADS;
12198  by DATAROLE Variable Target;
12199  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 8 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12200  data WORK.StatMAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
12201  set EMWS6.Stat_INTERVAL;
12202  if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
12203  else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
12204  if last.datarole or last.variable or last.target then output;
12205  by DATAROLE Variable Target;
12206  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set WORK.STATMAXINTERVAL has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12207  data EMWS6.Stat_INTERVAL;
12208  merge EMWS6.Stat_INTERVAL WORK.StatMAXINTERVAL;
12209  label LevelId = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelId_vlabel,             NOQUOTE))" Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,            NOQUOTE))" MaxDev =
12210     "%sysfunc(sasmsg(sashelp.dmine, rpt_maxdev_vlabel,              NOQUOTE))" ScaleDevMean = "%sysfunc(sasmsg(sashelp.dmine, rpt_scaledMeanDeviation_vlabel, NOQUOTE))";
12211  format LevelId best3.;
12212  retain LevelId 0;
12213  by DATAROLE Variable Target;
12214  if first.DATAROLE or first.Target then LevelId=1;
12215  else LevelId + 1;
12216  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STATMAXINTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 8 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
12217  proc sort data=EMWS6.Stat_INTERVAL NOTHREADS;
12218  by DATAROLE Target descending MaxDev Variable LevelId;
12219  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT_INTERVAL.
NOTE: The data set EMWS6.STAT_INTERVAL has 8 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12220  proc sort data=WORK.M0NAILQK;
12221  by name;
12222  run;
 
NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12223  proc sort data=EMWS6.Stat_WORTH;
12224  by NAME;
12225  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT_WORTH.
NOTE: The data set EMWS6.STAT_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12226  data EMWS6.Stat_WORTH;
12227  merge EMWS6.Stat_WORTH(in=_a) WORK.M0NAILQK(Keep=NAME LABEL REPORT);
12228  by NAME;
12229  if REPORT = 'Y' then plot = 1;
12230  if LABEL = "" then LABEL = NAME;
12231  if _a then output;
12232  drop report;
12233  run;
 
WARNING: Multiple lengths were specified for the BY variable Name by input data sets. This might cause unexpected results.
NOTE: There were 9 observations read from the data set EMWS6.STAT_WORTH.
NOTE: There were 13 observations read from the data set WORK.M0NAILQK.
NOTE: The data set EMWS6.STAT_WORTH has 9 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12234  proc sort data=EMWS6.Stat_WORTH;
12235  by rank;
12236  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT_WORTH.
NOTE: The data set EMWS6.STAT_WORTH has 9 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
*------------------------------------------------------------*
* Score Log
Date:                May 13, 2018
Time:                20:18:11
*------------------------------------------------------------*
12338  *------------------------------------------------------------*;
12339  * Stat: Scoring DATA data;
12340  *------------------------------------------------------------*;
12341  data EMWS6.Stat_TRAIN
12342  / view=EMWS6.Stat_TRAIN
12343  ;
12344  set EMWS6.Ids_DATA
12345  ;
12346  run;
 
NOTE: DATA STEP view saved on file EMWS6.STAT_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS6.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
12347  quit;
 
12348  *------------------------------------------------------------*;
12349  * Stat: Computing metadata for TRAIN data;
12350  *------------------------------------------------------------*;
 
NOTE: View EMWS6.STAT_TRAIN.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
NOTE: View EMWS6.STAT_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                May 13, 2018
Time:                20:18:13
*------------------------------------------------------------*
