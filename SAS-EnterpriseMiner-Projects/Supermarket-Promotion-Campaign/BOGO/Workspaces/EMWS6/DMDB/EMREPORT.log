*------------------------------------------------------------*
* Report Log
Date:                May 13, 2018
Time:                20:18:32
*------------------------------------------------------------*
16247  %let EMEXCEPTIONSTRING=;
16248  *------------------------------------------------------------*;
16249  * REPORT: DMDB;
16250  *------------------------------------------------------------*;
16251  %let EM_ACTION = REPORT;
16252  %let syscc = 0;
16253  %macro main;
16254  
16255     filename temp catalog 'sashelp.emexpl.dmdb_macros.source';
16256     %include temp;
16257     filename temp;
16258  
16259     %SetProperties;
16260  
16261     %if %upcase(&EM_ACTION) = CREATE %then %do;
16262  
16263         filename temp catalog 'sashelp.emexpl.dmdb_create.source';
16264         %include temp;
16265         filename temp;
16266  
16267         %create;
16268     %end;
16269     %else
16270     %if %upcase(&EM_ACTION) = TRAIN %then %do;
16271  
16272         filename temp catalog 'sashelp.emexpl.dmdb_train.source';
16273         %include temp;
16274         filename temp;
16275  
16276         %train;
16277     %end;
16278     %else
16279     %if %upcase(&EM_ACTION) = REPORT %then %do;
16280  
16281         filename temp catalog 'sashelp.emexpl.dmdb_report.source';
16282         %include temp;
16283         filename temp;
16284  
16285         %report;
16286  
16287     %end;
16288  
16289     %doendm:
16290  %mend main;
16291  
16292  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMEXPL.DMDB_MACROS.SOURCE.
16293 +%macro SetProperties;
16294 +   %em_checkmacro(name=EM_PROPERTY_INTERVAL,      global=Y, value=Y);
16295 +   %em_checkmacro(name=EM_PROPERTY_CLASS,         global=Y, value=Y);
16296 +   %em_checkmacro(name=EM_PROPERTY_MAXVALUES,     global=Y, value=25);
16297 +%mend SetProperties;
16298 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMEXPL.DMDB_REPORT.SOURCE.
16299 +%macro report;
16300 +
16301 +    %em_getname(key=INTERVAL, type=DATA);
16302 +    %em_getname(key=CLASS,    type=DATA);
16303 +
16304 +    proc sort data=&em_data_variableset(keep=NAME LABEL) out=_dmdbtemp;
16305 +       by NAME;
16306 +    run;
16307 +
16308 +    %if %sysfunc(exist(&EM_USER_INTERVAL)) %then %do;
16309 +        proc sort data=&em_user_interval;
16310 +           by NAME;
16311 +        run;
16312 +        data &em_user_interval;
16313 +           merge _dmdbtemp &em_user_interval(in=_a);
16314 +           by NAME;
16315 +           if _a then output;
16316 +        run;
16317 +        proc datasets lib=&em_lib nolist;
16318 +           modify &em_nodeid._INTERVAL;
16319 +           label Name  ="%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
16320 +           label label ="%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel,   NOQUOTE))";
16321 +           label NMiss ="%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))";
16322 +           label MIN   ="%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel,  NOQUOTE))";
16323 +           label MAX   ="%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel,  NOQUOTE))";
16324 +           label MEAN  ="%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,  NOQUOTE))";
16325 +           label STD   ="%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,  NOQUOTE))";
16326 +           label SKEWNESS ="%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel,  NOQUOTE))";
16327 +           label KURTOSIS ="%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel,  NOQUOTE))";
16328 +        run;
16329 +        proc print data=&em_user_interval label noobs;
16330 +           title9 ' ';
16331 +           title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalStats_title,  NOQUOTE))";
16332 +        run;
16333 +
16334 +        %em_report(key=INTERVAL,localize=Y, description=intrvlstat, block=stats);
16335 +    %end;
16336 +
16337 +    %if %sysfunc(exist(&EM_USER_CLASS)) %then %do;
16338 +        proc sort data=&EM_USER_CLASS;
16339 +           by NAME NRAW CRAW;
16340 +        run;
16341 +        proc freq data=&EM_USER_CLASS noprint;
16342 +           table NAME /out =TEMP(drop=PERCENT);
16343 +           where LEVEL ^in('.', '');
16344 +        run;
16345 +        proc sort data=TEMP;
16346 +           by NAME;
16347 +        run;
16348 +        data &EM_USER_CLASS(keep=NAME TYPE MISSING);
16349 +           set &EM_USER_CLASS;
16350 +           by NAME;
16351 +           if first.NAME then do;
16352 +              if LEVEL in('.' '') then MISSING=FREQUENCY;
16353 +              else MISSING=0;
16354 +              output;
16355 +           end;
16356 +        run;
16357 +        data &em_user_class;
16358 +           label Name    ="%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
16359 +           label label ="%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel,   NOQUOTE))";
16360 +           label Type    ="%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel, NOQUOTE))";
16361 +           label Count   ="%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel, NOQUOTE))";
16362 +           label Missing ="%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
16363 +           merge _dmdbtemp &em_user_class(in=_a) TEMP;
16364 +           by NAME;
16365 +           if _a then output;
16366 +        run;
16367 +        proc print data=&em_user_class label noobs;
16368 +           title9 ' ';
16369 +           title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_classStats_title,  NOQUOTE))";
16370 +        run;
16371 +        title9;
16372 +        title10;
16373 +
16374 +        %em_report(key=CLASS, localize=Y, description=classstat, block=stats);
16375 +
16376 +    %end;
16377 +
16378 +    proc datasets lib=work nolist;
16379 +       delete _dmdbtemp;
16380 +       run;
16381 +    quit;
16382 +
16383 +%mend report;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.

NOTE: There were 13 observations read from the data set EMWS6.DMDB_VARIABLESET.
NOTE: The data set WORK._DMDBTEMP has 13 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set EMWS6.DMDB_INTERVAL.
NOTE: The data set EMWS6.DMDB_INTERVAL has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 13 observations read from the data set WORK._DMDBTEMP.
NOTE: There were 4 observations read from the data set EMWS6.DMDB_INTERVAL.
NOTE: The data set EMWS6.DMDB_INTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: MODIFY was successful for EMWS6.DMDB_INTERVAL.DATA.
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      


NOTE: There were 4 observations read from the data set EMWS6.DMDB_INTERVAL.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The data set WORK.EM_USER_REPORT has 132 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      


NOTE: There were 38 observations read from the data set EMWS6.DMDB_CLASS.
NOTE: The data set EMWS6.DMDB_CLASS has 38 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 34 observations read from the data set EMWS6.DMDB_CLASS.
      WHERE LEVEL not in (' ', '.');
NOTE: The data set WORK.TEMP has 6 observations and 2 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 6 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 38 observations read from the data set EMWS6.DMDB_CLASS.
NOTE: The data set EMWS6.DMDB_CLASS has 6 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 13 observations read from the data set WORK._DMDBTEMP.
NOTE: There were 6 observations read from the data set EMWS6.DMDB_CLASS.
NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS6.DMDB_CLASS has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 6 observations read from the data set EMWS6.DMDB_CLASS.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      


NOTE: There were 132 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 264 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      


NOTE: Deleting WORK._DMDBTEMP (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

16384  *------------------------------------------------------------*;
16385  * End REPORT: DMDB;
16386  *------------------------------------------------------------*;
16387  

16388  /* Reset EM Options */
16389  options formchar="|----|+|---+=|-/\<>*";
16390  options nocenter ls=256 ps=10000;
16391  goptions reset=all device=GIF NODISPLAY;

16392  proc sort data=WORK.EM_USER_REPORT;
16393  by ID VIEW;
16394  run;

NOTE: There were 264 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 264 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

