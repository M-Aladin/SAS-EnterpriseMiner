*------------------------------------------------------------*
User:                Mohamed
Date:                May 13, 2018
Time:                20:33:15
Site:                12400032
Platform:            X64_10HOME
Maintenance Release: 9.04.01M4P110916
EM Version:          14.2
* 
*------------------------------------------------------------*
* Training Log
Date:                May 13, 2018
Time:                20:33:09
*------------------------------------------------------------*
11408  proc freq data=EMWS6.Stat2_VariableSet noprint;
11409  table ROLE*LEVEL/out=WORK.Stat2META;
11410  run;
 
NOTE: There were 14 observations read from the data set EMWS6.STAT2_VARIABLESET.
NOTE: The data set WORK.STAT2META has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
 
 
11411  proc print data=WORK.Stat2META label noobs;
11412  var ROLE LEVEL COUNT;
11413  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11414  title9 ' ';
11415  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11416  run;
 
NOTE: There were 7 observations read from the data set WORK.STAT2META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
11417  title10;
 
11418  data WORK.M1YKXIQ4;
11419  set WORK.M1YKXIQ4;
11420  where((role in('TARGET' 'FREQ' 'INPUT') and use in('D','Y')) or (role = 'REJECTED' and use = 'Y'));
11421  if ROLE = 'REJECTED' then role = 'INPUT';
11422  run;
 
NOTE: There were 10 observations read from the data set WORK.M1YKXIQ4.
      WHERE (role in ('FREQ', 'INPUT', 'TARGET') and use in ('D', 'Y')) or ((role='REJECTED') and (use='Y'));
NOTE: The data set WORK.M1YKXIQ4 has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11423  *------------------------------------------------------------*;
11424  * Stat2: Determining Analysis Variables;
11425  *------------------------------------------------------------*;
11426  *------------------------------------------------------------*;
11427  * Stat2: Creating Macros for Variable Selection;
11428  *------------------------------------------------------------*;
11429  *------------------------------------------------------------* ;
11430  * Stat2: Interval Input Variables Macro ;
11431  *------------------------------------------------------------* ;
11432  %macro INTINPUTS;
11433      DemAffl DemAge PromSpend PromTime
11434  %mend INTINPUTS;
11435  *------------------------------------------------------------*;
11436  * Stat2: Creating Macros for Variable Selection;
11437  *------------------------------------------------------------*;
11438  *------------------------------------------------------------* ;
11439  * Stat2: Binary and Nominal Input Variables Macro ;
11440  *------------------------------------------------------------* ;
11441  %macro NOMINPUTS;
11442      DemClusterGroup DemGender DemReg DemTVReg PromClass
11443  %mend NOMINPUTS;
11444  *------------------------------------------------------------*;
11445  * Stat2: Creating Macros for Variable Selection;
11446  *------------------------------------------------------------*;
11447  *------------------------------------------------------------* ;
11448  * Stat2: Ordinal Input Variables Macro ;
11449  *------------------------------------------------------------* ;
11450  %macro ORDINPUTS;
11451
11452  %mend ORDINPUTS;
11453  data work.EM_Stat2_tree / view=work.EM_Stat2_tree;
11454  set EMWS6.Part_TRAIN(obs=100000 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS TargetBuy);
11455  run;
 
NOTE: DATA STEP view saved on file WORK.EM_STAT2_TREE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11456  proc arbor data=EMWS6.Part_TRAIN(obs=100000 keep=%INTINPUTS %ORDINPUTS %NOMINPUTS TargetBuy) Criterion=GINI Leafsize=5 Mincatsize = 5 Maxbranch=5 Maxdepth=1 Padjust= NONE NORULELIMIT MAXRULES=9 MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
WARNING: PADJUST and PVAR options are ignored with this splitting criterion.
11457  input %INTINPUTS / level = interval;
11458  input %NOMINPUTS / level=nominal;
11459  target TargetBuy / level=BINARY;
11460  Performance Disk NodeSize=10000;
11461  Assess NoValidata measure=MISC;
NOTE: 1655023 kilobytes of physical memory.
NOTE: Will use 11112 out of 11112 training cases.
NOTE: Using memory pool with 145998848 bytes.
NOTE: Passed training data 2 times.
NOTE: Training used 2571664 bytes of work memory.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
11462  SUBTREE BEST;
NOTE: Using subtree with 6 nodes and 5 leaves.
11463  save RULES=WORK.Stat2_RULE;
NOTE: The data set WORK.STAT2_RULE has 94 observations and 6 variables.
11464  run;
 
11465  quit;
 
NOTE: There were 11112 observations read from the data set EMWS6.PART_TRAIN.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.17 seconds
      cpu time            0.18 seconds
 
 
11466  data WORK.Stat2_RULE(keep=Target Name Rank Numeric_Value StatVar rename=(numeric_value=Worth));
11467  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,      NOQUOTE))" Name = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" Rank = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))" Numeric_Value =
11468     "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,       NOQUOTE))" StatVar = "%sysfunc(sasmsg(sashelp.dmine, rpt_analysisVar_vlabel, NOQUOTE))";
11469  length Target $32 Name $32;
11470  retain TARGET "TargetBuy" Name;
11471  format STATVAR 6.0;
11472  set WORK.Stat2_RULE;
11473  where stat in('VARIABLE','WORTH');
11474  if stat = 'VARIABLE' then Name = character_value;
11475  else do;
11476  if _N_<= 2*1000 then STATVAR=1;
11477  else STATVAR=0;
11478  output;
11479  end;
11480  run;
 
NOTE: There were 18 observations read from the data set WORK.STAT2_RULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK.STAT2_RULE has 9 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
11481  proc append base=EMWS6.Stat2_WORTH data=WORK.Stat2_RULE force;
11482  run;
 
NOTE: Appending WORK.STAT2_RULE to EMWS6.STAT2_WORTH.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 9 observations read from the data set WORK.STAT2_RULE.
NOTE: The data set EMWS6.STAT2_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11483  *------------------------------------------------------------*;
11484  * Stat2: Counting Levels;
11485  *------------------------------------------------------------*;
11486  proc sql;
11487  create view WORK.Stat2_distinct as select distinct ID from EMWS6.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
11488  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11489  proc sql;
11490  reset noprint;
11491  select count(*) into :_tmpcount from WORK.Stat2_distinct;
11492  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11493  proc sql;
11494  create view WORK.Stat2_distinct as select distinct TargetBuy from EMWS6.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
11495  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11496  proc sql;
11497  reset noprint;
11498  select count(*) into :_tmpcount from WORK.Stat2_distinct;
11499  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11500  proc sql;
11501  create view WORK.Stat2_distinct as select distinct _dataobs_ from EMWS6.Part_TRAIN(obs=100000);
NOTE: SQL view WORK.STAT2_DISTINCT has been defined.
11502  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11503  proc sql;
11504  reset noprint;
11505  select count(*) into :_tmpcount from WORK.Stat2_distinct;
11506  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11507  proc sort data=WORK.Stat2_count NOTHREADS;
11508  by NAME ROLE DATA;
11509  run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The data set WORK.STAT2_COUNT has 3 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11510  proc print data=WORK.Stat2_count(obs=500) label noobs;
11511  label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,       NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,       NOQUOTE))";
11512  var NAME ROLE COUNT;
11513  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_varLevels_title, NOQUOTE))";
11514  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11515  run;
 
NOTE: There were 3 observations read from the data set WORK.STAT2_COUNT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11516  title9;
11517  title10;
 
11518  proc sort data=EMWS6.Stat2_WORTH nodupkey out=WORK.Stat2_SELVAR(keep=Name StatVar);
11519  by NAME;
11520  where statvar=1;
11521  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT2_WORTH.
      WHERE statvar=1;
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.STAT2_SELVAR has 9 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11522  proc sort data=EMWS6.Stat2_WORTH;
11523  by Rank;
11524  where statvar=1;
11525  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT2_WORTH.
      WHERE statvar=1;
NOTE: The data set EMWS6.STAT2_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11526  proc sort data=WORK.M09EI7TU;
11527  by name;
11528  run;
 
NOTE: There were 14 observations read from the data set WORK.M09EI7TU.
NOTE: The data set WORK.M09EI7TU has 14 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11529  data WORK.Stat2_analysisMeta;
11530  merge WORK.M09EI7TU WORK.Stat2_SELVAR(in=_a);
11531  by name;
11532  if _a then STATVAR = 1;
11533  else if ROLE in('INPUT', 'REJECTED') and REPORT ne 'Y' then delete;
11534  if REPORT eq 'Y' then STATVAR = 1;
11535  run;
 
NOTE: There were 14 observations read from the data set WORK.M09EI7TU.
NOTE: There were 9 observations read from the data set WORK.STAT2_SELVAR.
NOTE: The data set WORK.STAT2_ANALYSISMETA has 12 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11536  data WORK.M3F0YACP;
11537  set WORK.M3F0YACP;
11538  where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11539  if ROLE = 'SEGMENT' then delete;
11540  else if ROLE ^in('FREQ','TARGET') then role = 'INPUT';
11541  run;
 
NOTE: There were 10 observations read from the data set WORK.M3F0YACP.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M3F0YACP has 10 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11542  data WORK.M200J6UO;
11543  set WORK.M200J6UO;
11544  where(use = 'Y' or Report='Y' or (role in('SEGMENT', 'TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11545  if ROLE ne 'FREQ' then role = 'INPUT';
11546  run;
 
NOTE: There were 10 observations read from the data set WORK.M200J6UO.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'SEGMENT', 'TARGET') and (use='D'));
NOTE: The data set WORK.M200J6UO has 10 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11547  *------------------------------------------------------------*;
11548  * Stat2: Computing Statistics for Interval Variables;
11549  *------------------------------------------------------------*;
11550  proc dmdb data=EMWS6.Part_TRAIN(obs=100000) nonorm maxlevel=513
11551  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11552  classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11553  ;
11554  var
11555  DemAffl DemAge PromSpend PromTime
11556  ;
11557  class
11558  DemClusterGroup DemGender DemReg DemTVReg PromClass TargetBuy
11559  ;
11560  ;
11561  run;
 
NOTE: Records processed = 11112   Memory used = 511K.
NOTE: There were 11112 observations read from the data set EMWS6.PART_TRAIN.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 38 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
11562  proc stdize data = EMWS6.Part_TRAIN(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11563  var
11564  DemAffl DemAge PromSpend PromTime
11565  ;
11566  run;
 
NOTE: INITIAL= will be ignored.
NOTE: There were 11112 observations read from the data set EMWS6.PART_TRAIN.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11567  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11568  id _type_;
11569  where _TYPE_='P50';
11570  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11571  proc sort data=work._TRANSSTDIZE;
11572  by VARIABLE;
11573  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11574  proc sort data=work._DMDBVAR;
11575  by VARIABLE;
11576  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11577  data WORK.Stat2INTERVAL;
11578  merge work._TRANSSTDIZE work._DMDBVAR;
11579  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11580  by VARIABLE;
11581  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11582  proc sort data=WORK.Stat2CLASS;
11583  by Variable Level;
11584  run;
 
NOTE: There were 38 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 38 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 13 observations read from the data set WORK._STDIZE.
NOTE: The data set EMWS6.STAT2_TRAINPCTLS has 13 observations and 5 variables.
11585  data colorindex;
11586  retain LevelIndex 0;
11587  set WORK.Stat2CLASS(keep=Variable Level);
11588  by variable level;
11589  if first.variable then LevelIndex = 0;
11590  if first.level then LevelIndex + 1;
11591  run;
 
NOTE: There were 38 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.COLORINDEX has 38 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11592  data WORK.Stat2CLASS;
11593  merge WORK.Stat2CLASS(in=_a) colorindex;
11594  by variable level;
11595  if _a then output;
11596  run;
 
NOTE: There were 38 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 38 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11597  data WORK.Stat2INTERVAL;
11598  length DATAROLE $20;
11599  retain DATAROLE "TRAIN";
11600  length Target $32 TargetValue $32;
11601  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11602  retain Target '_OVERALL_';
11603  set WORK.Stat2INTERVAL;
11604  run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
 
 
11605  proc append base=EMWS6.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
11606  run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS6.STAT2_INTERVAL.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 4 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11607  data WORK.Stat2CLASS;
11608  length DATAROLE $20;
11609  retain DATAROLE "TRAIN";
11610  length Target $32 TargetValue $32;
11611  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11612  retain Target '_OVERALL_';
11613  set WORK.Stat2CLASS;
11614  run;
 
NOTE: Variable TargetValue is uninitialized.
NOTE: There were 38 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 38 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11615  proc append base=EMWS6.Stat2_CLASS data=WORK.Stat2CLASS force;
11616  run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS6.STAT2_CLASS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 38 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set EMWS6.STAT2_CLASS has 38 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11617  data WORK.M19O5O60;
11618  set WORK.M19O5O60;
11619  where(use = 'Y' or Report='Y' or (role in('TARGET' 'FREQ' 'PREDICT' 'RESIDUAL' 'INPUT') and use = 'D'));
11620  if ROLE = 'SEGMENT' or (ROLE = 'TARGET' and LEVEL ne 'INTERVAL') then delete;
11621  else if ROLE ne 'FREQ' then role = 'INPUT';
11622  run;
 
NOTE: There were 10 observations read from the data set WORK.M19O5O60.
      WHERE (use='Y') or (Report='Y') or (role in ('FREQ', 'INPUT', 'PREDICT', 'RESIDUAL', 'TARGET') and (use='D'));
NOTE: The data set WORK.M19O5O60 has 9 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11623  proc freq data=EMWS6.Part_TRAIN noprint;
11624  table
11625  TargetBuy / out=EMWS6.Stat2_BYVAR(drop=COUNT PERCENT) missing;
11626  run;
 
NOTE: There were 11112 observations read from the data set EMWS6.PART_TRAIN.
NOTE: The data set EMWS6.STAT2_BYVAR has 2 observations and 1 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11627  data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
11628  set EMWS6.Part_TRAIN;
11629  where TargetBuy=0;
11630  run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11631  *------------------------------------------------------------*;
11632  * Stat2: Computing Statistics for Interval Variables;
11633  *------------------------------------------------------------*;
11634  proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
11635  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11636  classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11637  ;
11638  var
11639  DemAffl DemAge PromSpend PromTime
11640  ;
11641  class
11642  DemClusterGroup DemGender DemReg DemTVReg PromClass
11643  ;
11644  ;
11645  run;
 
NOTE: Records processed = 8359   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
NOTE: There were 8359 observations read from the data set EMWS6.PART_TRAIN.
      WHERE TargetBuy=0;
NOTE: There were 8359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.11 seconds
      cpu time            0.10 seconds
 
 
11646  proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11647  var
11648  DemAffl DemAge PromSpend PromTime
11649  ;
11650  run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.29 seconds
      cpu time            0.28 seconds
 
NOTE: There were 8359 observations read from the data set EMWS6.PART_TRAIN.
      WHERE TargetBuy=0;
NOTE: There were 8359 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.29 seconds
      cpu time            0.28 seconds
 
 
11651  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11652  id _type_;
11653  where _TYPE_='P50';
11654  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11655  proc sort data=work._TRANSSTDIZE;
11656  by VARIABLE;
11657  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11658  proc sort data=work._DMDBVAR;
11659  by VARIABLE;
11660  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
 
 
11661  data WORK.Stat2INTERVAL;
11662  merge work._TRANSSTDIZE work._DMDBVAR;
11663  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11664  by VARIABLE;
11665  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11666  proc sort data=WORK.Stat2CLASS;
11667  by Variable Level;
11668  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11669  data WORK.Stat2CLASS;
11670  merge WORK.Stat2CLASS(in=_a) colorindex;
11671  by variable level;
11672  if _a then output;
11673  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11674  data WORK.Stat2INTERVAL;
11675  length DATAROLE $20;
11676  retain DATAROLE "TRAIN";
11677  length Target $32 TargetValue $32;
11678  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11679  Target = "TargetBuy";
11680  TargetValue = '0';
11681  set WORK.Stat2INTERVAL;
11682  run;
 
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11683  proc append base=EMWS6.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
11684  run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS6.STAT2_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 4 observations added.
NOTE: The data set EMWS6.STAT2_INTERVAL has 8 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11685  data WORK.Stat2CLASS;
11686  length DATAROLE $20;
11687  retain DATAROLE "TRAIN";
11688  length Target $32 TargetValue $32;
11689  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11690  Target = "TargetBuy";
11691  TargetValue = '0';
11692  set WORK.Stat2CLASS;
11693  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11694  proc append base=EMWS6.Stat2_CLASS data=WORK.Stat2CLASS force;
11695  run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS6.STAT2_CLASS.
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: 36 observations added.
NOTE: The data set EMWS6.STAT2_CLASS has 74 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11696  data WORK.STATEXPLORE_DATA / view=WORK.STATEXPLORE_DATA;
11697  set EMWS6.Part_TRAIN;
11698  where TargetBuy=1;
11699  run;
 
NOTE: DATA STEP view saved on file WORK.STATEXPLORE_DATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11700  *------------------------------------------------------------*;
11701  * Stat2: Computing Statistics for Interval Variables;
11702  *------------------------------------------------------------*;
11703  proc dmdb data=WORK.STATEXPLORE_DATA(obs=100000) nonorm maxlevel=513
11704  varout=work._DMDBVAR(RENAME=(NAME=VARIABLE))
11705  classout=WORK.Stat2CLASS(drop=NMISSPERCENT rename=(NAME=VARIABLE FREQUENCY=COUNT FREQPERCENT=PERCENT))
11706  ;
11707  var
11708  DemAffl DemAge PromSpend PromTime
11709  ;
11710  class
11711  DemClusterGroup DemGender DemReg DemTVReg PromClass
11712  ;
11713  ;
11714  run;
 
NOTE: Records processed = 2753   Memory used = 511K.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: There were 2753 observations read from the data set EMWS6.PART_TRAIN.
      WHERE TargetBuy=1;
NOTE: There were 2753 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 8 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
 
 
11715  proc stdize data = WORK.STATEXPLORE_DATA(obs=100000) out=_null_ outstat=work._STDIZE add=0 fuzz=1E-14 initial=MAD vardef=df method=STD mult=1 pctlmtd=ORD_STAT pctldef=2 pctlpts=(0 5 50 95 100);
11716  var
11717  DemAffl DemAge PromSpend PromTime
11718  ;
11719  run;
 
NOTE: INITIAL= will be ignored.
NOTE: View WORK.STATEXPLORE_DATA.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.18 seconds
 
NOTE: There were 2753 observations read from the data set EMWS6.PART_TRAIN.
      WHERE TargetBuy=1;
NOTE: There were 2753 observations read from the data set WORK.STATEXPLORE_DATA.
NOTE: The data set WORK._STDIZE has 13 observations and 5 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.25 seconds
      cpu time            0.21 seconds
 
 
11720  proc transpose data=work._STDIZE out=work._TRANSSTDIZE(drop=_LABEL_ rename=(_NAME_=VARIABLE));
11721  id _type_;
11722  where _TYPE_='P50';
11723  run;
 
NOTE: There were 1 observations read from the data set WORK._STDIZE.
      WHERE _TYPE_='P50';
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11724  proc sort data=work._TRANSSTDIZE;
11725  by VARIABLE;
11726  run;
 
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: The data set WORK._TRANSSTDIZE has 4 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11727  proc sort data=work._DMDBVAR;
11728  by VARIABLE;
11729  run;
 
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK._DMDBVAR has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11730  data WORK.Stat2INTERVAL;
11731  merge work._TRANSSTDIZE work._DMDBVAR;
11732  format N NMISS 8. MIN MAX P50 MEAN STD SKEWNESS KURTOSIS BEST8.3;
11733  by VARIABLE;
11734  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 4 observations read from the data set WORK._TRANSSTDIZE.
NOTE: There were 4 observations read from the data set WORK._DMDBVAR.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11735  proc sort data=WORK.Stat2CLASS;
11736  by Variable Level;
11737  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11738  data WORK.Stat2CLASS;
11739  merge WORK.Stat2CLASS(in=_a) colorindex;
11740  by variable level;
11741  if _a then output;
11742  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: There were 38 observations read from the data set WORK.COLORINDEX.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11743  data WORK.Stat2INTERVAL;
11744  length DATAROLE $20;
11745  retain DATAROLE "TRAIN";
11746  length Target $32 TargetValue $32;
11747  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11748  Target = "TargetBuy";
11749  TargetValue = '1';
11750  set WORK.Stat2INTERVAL;
11751  run;
 
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: The data set WORK.STAT2INTERVAL has 4 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11752  proc append base=EMWS6.Stat2_INTERVAL data=WORK.Stat2INTERVAL force;
11753  run;
 
NOTE: Appending WORK.STAT2INTERVAL to EMWS6.STAT2_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVAL.
NOTE: 4 observations added.
NOTE: The data set EMWS6.STAT2_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11754  data WORK.Stat2CLASS;
11755  length DATAROLE $20;
11756  retain DATAROLE "TRAIN";
11757  length Target $32 TargetValue $32;
11758  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel, NOQUOTE))" TargetValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetlevel_vlabel, NOQUOTE))";
11759  Target = "TargetBuy";
11760  TargetValue = '1';
11761  set WORK.Stat2CLASS;
11762  run;
 
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 36 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11763  proc append base=EMWS6.Stat2_CLASS data=WORK.Stat2CLASS force;
11764  run;
 
NOTE: Appending WORK.STAT2CLASS to EMWS6.STAT2_CLASS.
NOTE: There were 36 observations read from the data set WORK.STAT2CLASS.
NOTE: 36 observations added.
NOTE: The data set EMWS6.STAT2_CLASS has 110 observations and 12 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11765  proc sort data=EMWS6.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
11766  by name;
11767  run;
 
NOTE: There were 14 observations read from the data set EMWS6.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 14 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11768  proc sort data=EMWS6.Stat2_CLASS;
11769  by Variable;
11770  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: The data set EMWS6.STAT2_CLASS has 110 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11771  data EMWS6.Stat2_CLASS;
11772  merge EMWS6.Stat2_CLASS(in=_a) tempVariable;
11773  by variable;
11774  if label = '' then label=Variable;
11775  if _a then output;
11776  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 110 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: There were 14 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT2_CLASS has 110 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11777  proc sort data=EMWS6.Stat2_INTERVAL NOTHREADS;
11778  by DATAROLE
11779  Target TargetValue
11780  ;
11781  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11782  run;
11783  proc sort data=EMWS6.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=variable));
11784  by name;
11785  run;
 
NOTE: There were 14 observations read from the data set EMWS6.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 14 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11786  proc sort data=EMWS6.Stat2_INTERVAL;
11787  by Variable;
11788  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 12 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11789  data EMWS6.Stat2_INTERVAL;
11790  merge EMWS6.Stat2_INTERVAL(in=_a) tempVariable;
11791  by variable;
11792  if label = '' then label=Variable;
11793  if _a then output;
11794  run;
 
WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 12 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: There were 14 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT2_INTERVAL has 12 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
11795  proc datasets library=EMWS6 nolist;
11796  modify Stat2_INTERVAL;
11797  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))";
11798  label Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))";
11799  label MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))";
11800  label N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))";
11801  label STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))";
11802  label NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))";
11803  label p50 = "%sysfunc(sasmsg(sashelp.dmine, rpt_median_vlabel, NOQUOTE))";
11804  label MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))";
11805  label MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))";
11806  label SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))";
11807  label KURTOSIS = "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
11808  label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
11809  run;
 
NOTE: MODIFY was successful for EMWS6.STAT2_INTERVAL.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
11810  proc sort data=EMWS6.Stat2_CLASS NOTHREADS;
11811  by DATAROLE ROLE Variable descending COUNT;
11812  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: The data set EMWS6.STAT2_CLASS has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11813  data WORK.Stat2CLASS(keep=DATAROLE Variable ROLE Numcat Nmiss Mode ModePct Mode2 Mode2Pct);
11814  set EMWS6.Stat2_CLASS;
11815  length Mode Mode2 $32;
11816  retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
11817  by DATAROLE ROLE Variable;
11818  if first.DATAROLE or first.variable then do;
11819  Numcat = 1;
11820  NMiss = 0;
11821  Mode = strip(LEVEL);
11822  ModePct = PERCENT;
11823  Mode2 = '';
11824  Mode2Pct = 0;
11825  end;
11826  else Numcat +1;
11827  if Numcat =2 then do;
11828  Mode2 = strip(LEVEL);
11829  Mode2Pct = PERCENT;
11830  end;
11831  if NRAW=. and CRAW='' then NMiss= COUNT;
11832  if last.DATAROLE or last.variable then output;
11833  where TARGET='_OVERALL_';
11834  run;
 
NOTE: There were 38 observations read from the data set EMWS6.STAT2_CLASS.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2CLASS has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11835  %let _cn = %sysfunc(getoption(CENTER));
11836  %let _nb = %sysfunc(getoption(NUMBER));
11837  options nonumber nocenter;
11838  title;
11839  title9 ' ';
11840  proc print data=WORK.Stat2CLASS(obs=500) label noobs;
11841  var DATAROLE VARIABLE ROLE NUMCAT NMISS Mode ModePct Mode2 Mode2Pct;
11842  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS =
11843     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 =
11844     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
11845  format ModePct Mode2Pct 5.2;
11846  by DATAROLE;
11847  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classStats_title,     NOQUOTE))";
11848  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
11849  run;
 
NOTE: There were 6 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11850  proc print data=EMWS6.Stat2_CLASS(obs=500) noobs label;
11851  var DATAROLE VARIABLE ROLE LEVEL COUNT PERCENT;
11852  where ROLE in('TARGET', 'SEGMENT');
11853  by DATAROLE;
11854  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" COUNT =
11855     "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,        NOQUOTE))";
11856  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classTargetSegmentDist_title, NOQUOTE))";
11857  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,          NOQUOTE))";
11858  run;
 
NOTE: There were 2 observations read from the data set EMWS6.STAT2_CLASS.
      WHERE ROLE in ('SEGMENT', 'TARGET');
NOTE: The PROCEDURE PRINT printed page 4.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11859  title9;
11860  title10;
11861  options &_cn &_nb;
 
11862  data WORK.Stat2INTERVALSUMMARY;
11863  set EMWS6.Stat2_INTERVAL;
11864  length ROLE $32;
11865  where TARGET='_OVERALL_';
11866  if Variable = "DemAffl" then ROLE="INPUT";
11867  else
11868  if Variable = "DemAge" then ROLE="INPUT";
11869  else
11870  if Variable = "PromSpend" then ROLE="INPUT";
11871  else
11872  if Variable = "PromTime" then ROLE="INPUT";
11873  else
11874  if Variable = "_dataobs_" then ROLE="ID";
11875  run;
 
NOTE: There were 4 observations read from the data set EMWS6.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 4 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11876  proc sort data=WORK.Stat2INTERVALSUMMARY NOTHREADS;
11877  by DATAROLE ROLE Variable;
11878  run;
 
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The data set WORK.STAT2INTERVALSUMMARY has 4 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11879  %let _cn = %sysfunc(getoption(CENTER));
11880  %let _nb = %sysfunc(getoption(NUMBER));
11881  options nonumber nocenter;
11882  title;
11883  proc print data=WORK.Stat2INTERVALSUMMARY(obs=500) label noobs;
11884  var Variable ROLE MEAN STD N NMISS MIN P50 MAX SKEWNESS KURTOSIS;
11885  by DATAROLE;
11886  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalStats_title, NOQUOTE))";
11887  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11888  run;
 
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVALSUMMARY.
NOTE: The PROCEDURE PRINT printed page 5.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11889  title9;
11890  title10;
11891  options &_cn &_nb;
 
11892  proc sort data=EMWS6.Stat2_CLASS NOTHREADS;
11893  by DATAROLE DATAROLE Target TargetValue Variable descending COUNT;
11894  run;
 
NOTE: There were 110 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: Duplicate BY variable(s) specified. Duplicates will be ignored.
NOTE: The data set EMWS6.STAT2_CLASS has 110 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11895  data WORK.Stat2CLASS(keep=DATAROLE Target TargetValue DATAROLE Variable Numcat NMiss Mode ModePct Mode2 Mode2Pct );
11896  set EMWS6.Stat2_CLASS;
11897  length Mode Mode2 $32;
11898  retain NMiss 0 ModePct 0 Mode2Pct 0 Mode '' Mode2 '';
11899  by DATAROLE DATAROLE Target TargetValue Variable;
11900  if first.datarole or first.variable then do;
11901  Numcat = 1;
11902  NMiss = 0;
11903  Mode = LEVEL;
11904  ModePct = PERCENT;
11905  Mode2 = '';
11906  Mode2Pct = 0;
11907  end;
11908  else Numcat +1;
11909  if Numcat =2 then do;
11910  Mode2 = LEVEL;
11911  Mode2Pct = PERCENT;
11912  end;
11913  if NRAW=. and CRAW='' then NMiss= COUNT;
11914  if last.datarole or last.variable then output;
11915  where ROLE ^in('TARGET', 'SEGMENT');
11916  run;
 
NOTE: There were 108 observations read from the data set EMWS6.STAT2_CLASS.
      WHERE ROLE not in ('SEGMENT', 'TARGET');
NOTE: The data set WORK.STAT2CLASS has 15 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11917  proc sort data=WORK.Stat2CLASS NOTHREADS;
11918  by DATAROLE
11919  VARIABLE Target TargetValue;
11920  run;
 
NOTE: There were 15 observations read from the data set WORK.STAT2CLASS.
NOTE: The data set WORK.STAT2CLASS has 15 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11921  %let _cn = %sysfunc(getoption(CENTER));
11922  %let _nb = %sysfunc(getoption(NUMBER));
11923  options nonumber nocenter;
11924  title;
11925  title9 ' ';
11926  proc print data=WORK.Stat2CLASS(obs=500) label noobs;
11927  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" NUMCAT = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" NMISS = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel,  NOQUOTE))" MODE =
11928     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode_vlabel,     NOQUOTE))" MODEPCT = "%sysfunc(sasmsg(sashelp.dmine, rpt_modepct_vlabel,  NOQUOTE))" MODE2 = "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2_vlabel,     NOQUOTE))" MODE2PCT =
11929     "%sysfunc(sasmsg(sashelp.dmine, rpt_mode2pct_vlabel, NOQUOTE))";
11930  format ModePct Mode2Pct 5.2;
11931  by DATAROLE;
11932  label TARGET = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,   NOQUOTE))" TARGETVALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetLevel_vlabel,   NOQUOTE))";
11933  var Target TargetValue NumCat NMiss Mode ModePct Mode2 Mode2Pct;
11934  by DATAROLE VARIABLE;
11935  title9 "Class Variable Summary Statistics by Class Target";
11936  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11937  run;
 
NOTE: There were 15 observations read from the data set WORK.STAT2CLASS.
NOTE: The PROCEDURE PRINT printed page 6.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11938  title9;
11939  title10;
11940  options &_cn &_nb;
 
11941  proc sort data=EMWS6.Stat2_INTERVAL NOTHREADS;
11942  by DATAROLE Variable
11943  Target
11944  TargetValue
11945  ;
11946  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 12 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11947  %let _cn = %sysfunc(getoption(CENTER));
11948  %let _nb = %sysfunc(getoption(NUMBER));
11949  options nonumber nocenter;
11950  title;
11951  proc print data=EMWS6.Stat2_INTERVAL(obs=500) label noobs;
11952  by DATAROLE Variable
11953  ;
11954  title9 "Interval Variable Summary Statistics by Class Target";
11955  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11956  run;
 
NOTE: There were 12 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The PROCEDURE PRINT printed page 7.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11957  title9;
11958  title10;
11959  options &_cn &_nb;
 
11960  *------------------------------------------------------------*;
11961  * Stat2: Computing Chi-Square Statistics;
11962  *------------------------------------------------------------*;
11963  ods listing close;
11964  ods output chisq=WORK.TEMPCHISQUARE;
11965  ods output crosstabFreqs=WORK.TEMPCROSSTAB;
11966  proc freq data=EMWS6.Part_TRAIN(obs=100000) order=formatted addnames;
11967  table TargetBuy*DemClusterGroup /missing chisq outexpect sparse;
11968  table TargetBuy*DemGender /missing chisq outexpect sparse;
11969  table TargetBuy*DemReg /missing chisq outexpect sparse;
11970  table TargetBuy*DemTVReg /missing chisq outexpect sparse;
11971  table TargetBuy*PromClass /missing chisq outexpect sparse;
11972  ;
11973  run;
 
NOTE: The data set WORK.TEMPCROSSTAB has 123 observations and 16 variables.
NOTE: The data set WORK.TEMPCHISQUARE has 30 observations and 8 variables.
NOTE: There were 11112 observations read from the data set EMWS6.PART_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
 
 
11974  quit;
11975  ods listing;
11976  data WORK.Stat2CHI2(keep=TARGET INPUT CRAMERV CHIMEASURE PROBCHI CHIDF rename=(PROBCHI=PROB CHIDF=DF));
11977  length TARGET INPUT $32;
11978  label Target = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel ,      NOQUOTE))" INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CRAMERV = "%sysfunc(sasmsg(sashelp.dmine, rpt_cramerv_vlabel ,     NOQUOTE))" CORRVALUE =
11979     "%sysfunc(sasmsg(sashelp.dmine, rpt_correlation_vlabel , NOQUOTE))" PROBCHI = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" CHIDF =
11980     "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
11981  retain CHIMEASURE CHIDF PROBCHI;
11982  format PROBCHI PVALUE6.4 CHIMEASURE 10.4;
11983  set WORK.TEMPCHISQUARE;
11984  Target = strip(RowVariable);
11985  Input = strip(ColVariable);
11986  where StatisticId in('_CRAMV_','_PCHI_');
11987  if StatisticId = '_PCHI_' then do;
11988  PROBCHI = Prob;
11989  CHIMEASURE = VALUE;
11990  CHIDF = DF;
11991  end;
11992  else do;
11993  CRAMERV = abs(VALUE);
11994  OUTPUT;
11995  end;
11996  run;
 
NOTE: Variable CORRVALUE is uninitialized.
NOTE: There were 10 observations read from the data set WORK.TEMPCHISQUARE.
      WHERE StatisticId in ('_CRAMV_', '_PCHI_');
NOTE: The data set WORK.STAT2CHI2 has 5 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11997  proc sort data=WORK.TEMPCROSSTAB;
11998  by RowVariable ColVariable _Type_;
11999  where _Type_ in('11','00');
12000  run;
 
NOTE: There were 77 observations read from the data set WORK.TEMPCROSSTAB.
      WHERE _Type_ in ('00', '11');
NOTE: The data set WORK.TEMPCROSSTAB has 77 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12001  data WORK.Stat2CHI(keep=YVAR XVAR X Y XTEXT YTEXT COUNT CHISQUARE LOGCHISQUARE);
12002  retain N;
12003  dsid = open("WORK.TEMPCROSSTAB");
12004  rowvarnum = varnum(dsid, 'RowVariable');
12005  colvarnum = varnum(dsid, 'ColVariable');
12006  freqnum = varnum(dsid, 'FREQUENCY');
12007  rownum = varnum(dsid, 'RowPercent');
12008  colnum = varnum(dsid, 'ColPercent');
12009  typenum = varnum(dsid, '_TYPE_');
12010  length YVAR XVAR $32 YTEXT $32 XTEXT $32;
12011  do while(^fetch(dsid));
12012  COUNT = getvarn(dsid, freqnum);
12013  YVAR = (getvarc(dsid, rowvarnum));
12014  XVAR = strip(getvarc(dsid, colvarnum));
12015  ynum = varnum(dsid, YVAR);
12016  ytype = vartype(dsid, ynum);
12017  yformat = varfmt(dsid, ynum);
12018  if yformat eq '' then yformat = 'best12.';
12019  Y=.;
12020  if ytype = 'N' then do;
12021  Y = getvarn(dsid, ynum);
12022  YTEXT = left(putn(Y, yformat));
12023  end;
12024  else YTEXT = getvarc(dsid, ynum);
12025  xnum = varnum(dsid, XVAR);
12026  xtype = vartype(dsid, xnum);
12027  xformat = varfmt(dsid, xnum);
12028  if xformat eq '' then xformat = 'best12.';
12029  X=.;
12030  if xtype = 'N' then do;
12031  X = getvarn(dsid, xnum);
12032  XTEXT = left(putn(X, xformat));
12033  end;
12034  else XTEXT = getvarc(dsid, xnum);
12035  if getvarc(dsid, typenum)= '00' then N= count;
12036  else do;
12037  EXP = (getvarn(dsid,rownum)/100)*(getvarn(dsid,colnum)/100)*N;
12038  if exp >0 then do;
12039  CHISQUARE=(EXP-count)**2/(EXP);
12040  if chisquare>0 then LOGCHISQUARE = log(CHISQUARE);
12041  OUTPUT;
12042  end;
12043  end;
12044  end;
12045  dsid = close(dsid);
12046  run;
 
NOTE: The data set WORK.STAT2CHI has 72 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12047  data WORK.Stat2CHI;
12048  length DATAROLE $20;
12049  retain DATAROLE "TRAIN";
12050  SegmentVar = "";
12051  SegmentValue = "";
12052  SegmentId = "_OVERALL_";
12053  set WORK.Stat2CHI;
12054  run;
 
NOTE: There were 72 observations read from the data set WORK.STAT2CHI.
NOTE: The data set WORK.STAT2CHI has 72 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12055  proc append base=EMWS6.Stat2_CHI2 data=WORK.Stat2CHI force;
12056  run;
 
NOTE: Appending WORK.STAT2CHI to EMWS6.STAT2_CHI2.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 72 observations read from the data set WORK.STAT2CHI.
NOTE: The data set EMWS6.STAT2_CHI2 has 72 observations and 13 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12057  data WORK.Stat2CHI2;
12058  length DATAROLE $20;
12059  retain DATAROLE "TRAIN";
12060  SegmentVar = "";
12061  SegmentValue = "";
12062  SegmentId = "_OVERALL_";
12063  set WORK.Stat2CHI2;
12064  run;
 
NOTE: There were 5 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set WORK.STAT2CHI2 has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12065  proc append base=EMWS6.Stat2_CHIMEASURE data=WORK.Stat2CHI2 force;
12066  run;
 
NOTE: Appending WORK.STAT2CHI2 to EMWS6.STAT2_CHIMEASURE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 5 observations read from the data set WORK.STAT2CHI2.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12067  proc sort data=EMWS6.Stat2_VariableSet out=tempVariable(keep=name label role rename=(label=XLabel name=XVAR));
12068  by name;
12069  run;
 
NOTE: There were 14 observations read from the data set EMWS6.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 14 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12070  proc sort data=EMWS6.Stat2_CHI2;
12071  by XVAR;
12072  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CHI2.
NOTE: The data set EMWS6.STAT2_CHI2 has 72 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12073  data EMWS6.Stat2_CHI2;
12074  merge EMWS6.Stat2_CHI2(in=_a) tempVariable;
12075  by XVAR;
12076  if XLabel = '' then XLabel=XVAR;
12077  if _a then output;
12078  run;
 
WARNING: Multiple lengths were specified for the BY variable XVAR by input data sets. This might cause unexpected results.
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CHI2.
NOTE: There were 14 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT2_CHI2 has 72 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12079  proc datasets library=EMWS6 nolist;
12080  modify Stat2_CHI2;
12081  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))";
12082  label SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
12083  label SEGMENTID = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,      NOQUOTE))";
12084  label SegmentValue= "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))";
12085  label YVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,         NOQUOTE))";
12086  label XVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,          NOQUOTE))";
12087  label X = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputNumValue_vlabel,  NOQUOTE))";
12088  label Y = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetNumValue_vlabel, NOQUOTE))";
12089  label XTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputFmtValue_vlabel,  NOQUOTE))";
12090  label YTEXT = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetFmtValue_vlabel, NOQUOTE))";
12091  label COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))";
12092  label CHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chiSquare_vlabel,      NOQUOTE))";
12093  label LOGCHISQUARE = "%sysfunc(sasmsg(sashelp.dmine, rpt_logChiSquare_vlabel,   NOQUOTE))";
12094  run;
 
NOTE: MODIFY was successful for EMWS6.STAT2_CHI2.DATA.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
 
12095  proc sort data=EMWS6.Stat2_VariableSet out=tempVariable(keep=name label role rename=(name=INPUT));
12096  by name;
12097  run;
 
NOTE: There were 14 observations read from the data set EMWS6.STAT2_VARIABLESET.
NOTE: The data set WORK.TEMPVARIABLE has 14 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12098  proc sort data=EMWS6.Stat2_CHIMEASURE;
12099  by INPUT;
12100  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12101  data EMWS6.Stat2_CHIMEASURE;
12102  merge EMWS6.Stat2_CHIMEASURE(in=_a) tempVariable;
12103  by INPUT;
12104  if label = '' then label=INPUT;
12105  if _a then output;
12106  run;
 
WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might cause unexpected results.
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: There were 14 observations read from the data set WORK.TEMPVARIABLE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12107  proc sort data=EMWS6.Stat2_CHIMEASURE NOTHREADS;
12108  by DATAROLE TARGET descending CRAMERV;
12109  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12110  data EMWS6.Stat2_CHIMEASURE;
12111  set EMWS6.Stat2_CHIMEASURE;
12112  label ORDEREDINPUTS = "%sysfunc(sasmsg(sashelp.dmine, rpt_orderedInput_vlabel  , NOQUOTE))" DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" SEGMENTID =
12113     "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentnamevalue_vlabel,       NOQUOTE))" SegmentValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentid_vlabel, NOQUOTE))" SEGMENTVAR = "%sysfunc(sasmsg(sashelp.dmine, rpt_segment_vlabel,      NOQUOTE))";
12114  format ORDEREDINPUTS 5.0;
12115  retain ORDEREDINPUTS 0;
12116  if first.DATAROLE or first.SEGMENTID or first.TARGET then ORDEREDINPUTS=1;
12117  else ORDEREDINPUTS+1;
12118  by DATAROLE SEGMENTID TARGET;
12119  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
12120  %let _cn = %sysfunc(getoption(CENTER));
12121  %let _nb = %sysfunc(getoption(NUMBER));
12122  options nonumber nocenter;
12123  title;
12124  proc print data=EMWS6.Stat2_CHIMEASURE(obs=500) label noobs;
12125  var INPUT CHIMEASURE DF PROB;
12126  label INPUT = "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel ,       NOQUOTE))" CHIMEASURE = "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquare_vlabel,    NOQUOTE))" PROB = "%sysfunc(sasmsg(sashelp.dmine, rpt_probchi_vlabel ,     NOQUOTE))" DF =
12127     "%sysfunc(sasmsg(sashelp.dmine, rpt_df_vlabel ,          NOQUOTE))";
12128  by DATAROLE TARGET;
12129  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_chisquareStats_title, NOQUOTE))";
12130  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title,  NOQUOTE))";
12131  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The PROCEDURE PRINT printed page 8.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12132  title10;
12133  options &_cn &_nb;
12134  proc sort data=EMWS6.Stat2_CHIMEASURE out=trainChimeasure;
12135  by TARGET descending CramerV;
12136  where DATAROLE='TRAIN';
12137  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
      WHERE DATAROLE='TRAIN';
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12138  data trainChimeasure;
12139  set trainchimeasure;
12140  by TARGET;
12141  retain groupcount 0;
12142  if first.Target then groupcount =1;
12143  else groupcount + 1;
12144  if groupcount<21 then Plot=1;
12145  else Plot = 0;
12146  keep Target Input GroupCount Plot;
12147  run;
 
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12148  proc sort data=trainChiMeasure;
12149  by TARGET INPUT;
12150  run;
 
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set WORK.TRAINCHIMEASURE has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12151  proc sort data=EMWS6.Stat2_CHIMEASURE;
12152  by TARGET INPUT;
12153  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12154  data EMWS6.Stat2_CHIMEASURE;
12155  merge EMWS6.Stat2_CHIMEASURE trainchimeasure;
12156  by TARGET INPUT;
12157  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" Plot = "%sysfunc(sasmsg(sashelp.dmine, rpt_plot_vlabel,  NOQUOTE))" groupcount = "%sysfunc(sasmsg(sashelp.dmine, rpt_group_vlabel, NOQUOTE))";
12158  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: There were 5 observations read from the data set WORK.TRAINCHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12159  proc sort data=EMWS6.Stat2_CLASS(drop=CRAW NRAW) NOTHREADS;
12160  by DATAROLE TARGET VARIABLE LEVEL;
12161  where TARGET ne '_OVERALL_';
12162  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: The data set EMWS6.STAT2_CLASS has 72 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12163  data WORK.Stat2tempDs(keep=DATAROLE target VARIABLE nobs);
12164  retain nobs;
12165  set EMWS6.Stat2_CLASS;
12166  by DATAROLE target VARIABLE;
12167  if first.DATAROLE or first.variable then nobs=count;
12168  else nobs = nobs + count;
12169  if last.DATAROLE or last.variable then output;
12170  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: The data set WORK.STAT2TEMPDS has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12171  data EMWS6.Stat2_CLASS(drop=NOBS);
12172  merge EMWS6.Stat2_CLASS(where=(TARGET ne '_OVERALL_') rename=(PERCENT=WITHINPCT)) WORK.Stat2tempDs;
12173  label percent = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,         NOQUOTE))" withinpct = "%sysfunc(sasmsg(sashelp.dmine, rpt_percentwithin_vlabel, NOQUOTE))";
12174  by DATAROLE TARGET VARIABLE;
12175  if NOBS>0 then PERCENT=COUNT/NOBS;
12176  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CLASS.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 5 observations read from the data set WORK.STAT2TEMPDS.
NOTE: The data set EMWS6.STAT2_CLASS has 72 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
12177  proc sort data=EMWS6.Stat2_CHIMEASURE out=WORK.Stat2cutoff(RENAME=(INPUT=VARIABLE) keep=DATAROLE TARGET INPUT PLOT);
12178  by DATAROLE TARGET INPUT;
12179  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set WORK.STAT2CUTOFF has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12180  data EMWS6.Stat2_CLASS;
12181  drop groupcount;
12182  retain groupcount 0;
12183  merge EMWS6.Stat2_CLASS(in=_a) WORK.Stat2cutoff;
12184  if _a then do;
12185  plot=1;
12186  groupcount+1;
12187  end;
12188  if groupcount>21 then plot=0;
12189  by DATAROLE Target Variable;
12190  if PERCENT eq . or plot = . then delete;
12191  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine,  rpt_datarole_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,          NOQUOTE))" TYPE = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,           NOQUOTE))" COUNT =
12192     "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,          NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,          NOQUOTE))" LEVELINDEX = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelIndex_vlabel,     NOQUOTE))";
12193  run;
 
NOTE: There were 72 observations read from the data set EMWS6.STAT2_CLASS.
NOTE: There were 5 observations read from the data set WORK.STAT2CUTOFF.
NOTE: The data set EMWS6.STAT2_CLASS has 72 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
 
12194  proc sort data=EMWS6.Stat2_CHIMEASURE;
12195  by DATAROLE ORDEREDINPUTS;
12196  run;
 
NOTE: There were 5 observations read from the data set EMWS6.STAT2_CHIMEASURE.
NOTE: The data set EMWS6.STAT2_CHIMEASURE has 5 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12197  data WORK.Stat2INTERVALPLOT(drop=TARGET N MIN NMISS P50 MAX TARGETVALUE rename=(Mean=OMean));
12198  set EMWS6.Stat2_INTERVAL;
12199  where TARGET='_OVERALL_';
12200  run;
 
NOTE: There were 4 observations read from the data set EMWS6.STAT2_INTERVAL.
      WHERE TARGET='_OVERALL_';
NOTE: The data set WORK.STAT2INTERVALPLOT has 4 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12201  data EMWS6.Stat2_INTERVAL(drop=OMean);
12202  merge EMWS6.Stat2_INTERVAL(where=(TARGET ne '_OVERALL_')) WORK.Stat2INTERVALPLOT;
12203  by DATAROLE Variable;
12204  if OMean ne 0 then ScaleDevMean = (Mean - OMean)/OMean;
12205  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT2_INTERVAL.
      WHERE TARGET not = '_OVERALL_';
NOTE: There were 4 observations read from the data set WORK.STAT2INTERVALPLOT.
NOTE: The data set EMWS6.STAT2_INTERVAL has 8 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12206  proc sort data=EMWS6.Stat2_INTERVAL NOTHREADS;
12207  by DATAROLE Variable Target;
12208  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 8 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12209  data WORK.Stat2MAXINTERVAL(keep=DATAROLE Target Variable MaxDev);
12210  set EMWS6.Stat2_INTERVAL;
12211  if first.DATAROLE or first.Variable then MaxDev = abs(ScaleDevMean);
12212  else if abs(ScaleDevMean)>MaxDev then MaxDev = abs(ScaleDevMean);
12213  if last.datarole or last.variable or last.target then output;
12214  by DATAROLE Variable Target;
12215  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set WORK.STAT2MAXINTERVAL has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12216  data EMWS6.Stat2_INTERVAL;
12217  merge EMWS6.Stat2_INTERVAL WORK.Stat2MAXINTERVAL;
12218  label LevelId = "%sysfunc(sasmsg(sashelp.dmine, rpt_levelId_vlabel,             NOQUOTE))" Variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,            NOQUOTE))" MaxDev =
12219     "%sysfunc(sasmsg(sashelp.dmine, rpt_maxdev_vlabel,              NOQUOTE))" ScaleDevMean = "%sysfunc(sasmsg(sashelp.dmine, rpt_scaledMeanDeviation_vlabel, NOQUOTE))";
12220  format LevelId best3.;
12221  retain LevelId 0;
12222  by DATAROLE Variable Target;
12223  if first.DATAROLE or first.Target then LevelId=1;
12224  else LevelId + 1;
12225  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: There were 4 observations read from the data set WORK.STAT2MAXINTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 8 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
12226  proc sort data=EMWS6.Stat2_INTERVAL NOTHREADS;
12227  by DATAROLE Target descending MaxDev Variable LevelId;
12228  run;
 
NOTE: There were 8 observations read from the data set EMWS6.STAT2_INTERVAL.
NOTE: The data set EMWS6.STAT2_INTERVAL has 8 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12229  proc sort data=WORK.M09EI7TU;
12230  by name;
12231  run;
 
NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12232  proc sort data=EMWS6.Stat2_WORTH;
12233  by NAME;
12234  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT2_WORTH.
NOTE: The data set EMWS6.STAT2_WORTH has 9 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12235  data EMWS6.Stat2_WORTH;
12236  merge EMWS6.Stat2_WORTH(in=_a) WORK.M09EI7TU(Keep=NAME LABEL REPORT);
12237  by NAME;
12238  if REPORT = 'Y' then plot = 1;
12239  if LABEL = "" then LABEL = NAME;
12240  if _a then output;
12241  drop report;
12242  run;
 
WARNING: Multiple lengths were specified for the BY variable Name by input data sets. This might cause unexpected results.
NOTE: There were 9 observations read from the data set EMWS6.STAT2_WORTH.
NOTE: There were 14 observations read from the data set WORK.M09EI7TU.
NOTE: The data set EMWS6.STAT2_WORTH has 9 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12243  proc sort data=EMWS6.Stat2_WORTH;
12244  by rank;
12245  run;
 
NOTE: There were 9 observations read from the data set EMWS6.STAT2_WORTH.
NOTE: The data set EMWS6.STAT2_WORTH has 9 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
*------------------------------------------------------------*
* Score Log
Date:                May 13, 2018
Time:                20:33:14
*------------------------------------------------------------*
12347  *------------------------------------------------------------*;
12348  * Stat2: Scoring DATA data;
12349  *------------------------------------------------------------*;
12350  data EMWS6.Stat2_TRAIN
12351  / view=EMWS6.Stat2_TRAIN
12352  ;
12353  set EMWS6.Part_TRAIN
12354  ;
12355  run;
 
NOTE: DATA STEP view saved on file EMWS6.STAT2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12356  quit;
 
12357  *------------------------------------------------------------*;
12358  * Stat2: Scoring VALIDATE data;
12359  *------------------------------------------------------------*;
12360  data EMWS6.Stat2_VALIDATE
12361  / view=EMWS6.Stat2_VALIDATE
12362  ;
12363  set EMWS6.Part_VALIDATE
12364  ;
12365  run;
 
NOTE: DATA STEP view saved on file EMWS6.STAT2_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12366  quit;
 
12367  *------------------------------------------------------------*;
12368  * Stat2: Computing metadata for TRAIN data;
12369  *------------------------------------------------------------*;
 
NOTE: View EMWS6.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: View EMWS6.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: View EMWS6.STAT2_VALIDATE.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                May 13, 2018
Time:                20:33:15
*------------------------------------------------------------*
