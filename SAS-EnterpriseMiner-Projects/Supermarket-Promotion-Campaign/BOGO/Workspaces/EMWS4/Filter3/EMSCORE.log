*------------------------------------------------------------*
* Score Log
Date:                May 09, 2018
Time:                15:10:11
*------------------------------------------------------------*
12744  proc sort data=EMWS4.Filter3_INTERVAL;
12745  by name;
12746  run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12747  proc print data=EMWS4.Filter3_INTERVAL(obs=500) noobs label;
12748  where (INTERVALMIN ne . or INTERVALMAX ne . or KEEPMISSING='N');
12749  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_filterintervallimits_title,    NOQUOTE))";
12750  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12751  run;

NOTE: No observations in data set EMWS4.FILTER3_INTERVAL.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12752  title9;
12753  title10;

12754  proc sort data=EMWS4.Filter3_CLASS;
12755  by NAME VALUE;
12756  run;

NOTE: There were 3 observations read from the data set EMWS4.FILTER3_CLASS.
NOTE: The data set EMWS4.FILTER3_CLASS has 3 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12757  proc datasets library=EMWS4 nolist;
12758  modify Filter3_CLASS;
12759  label NAME = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,      NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,         NOQUOTE))" VALUE = "%sysfunc(sasmsg(sashelp.dmine, rpt_level_vlabel,        NOQUOTE))" LABEL =
12760     "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel,        NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_traincount_vlabel,    NOQUOTE))" PERCENT = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainpercent_vlabel,  NOQUOTE))";
12761  run;

NOTE: MODIFY was successful for EMWS4.FILTER3_CLASS.DATA.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

12762  proc print data=EMWS4.Filter3_CLASS(obs=500) noobs label;
12763  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_filterexcludeclass_title,    NOQUOTE))";
12764  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12765  run;

NOTE: There were 3 observations read from the data set EMWS4.FILTER3_CLASS.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12766  title9;
12767  title10;

12768  data WORK.DATA_FILTERED / view=WORK.DATA_FILTERED;
12769  set EMWS4.Clus2_TRAIN;
12770  if
12771  _SEGMENT_LABEL_ not in ( 'Cluster2' , 'Cluster3' , 'Cluster4')
12772  then do;
12773  if M_FILTER eq . then M_FILTER = 0;
12774  else M_FILTER = M_FILTER + 0;
12775  end;
12776  else M_FILTER = 1;
12777  length M_FILTER 8;
12778  label M_FILTER = 'Filtered Indicator';
12779  if M_FILTER = 0;
12780  run;

NOTE: DATA STEP view saved on file WORK.DATA_FILTERED.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.23 seconds
      

12781  data WORK.DATA_EXCLUDED / view=WORK.DATA_EXCLUDED;
12782  set EMWS4.Clus2_TRAIN;
12783  if
12784  _SEGMENT_LABEL_ not in ( 'Cluster2' , 'Cluster3' , 'Cluster4')
12785  then do;
12786  if M_FILTER eq . then M_FILTER = 0;
12787  else M_FILTER = M_FILTER + 0;
12788  end;
12789  else M_FILTER = 1;
12790  length M_FILTER 8;
12791  label M_FILTER = 'Filtered Indicator';
12792  if M_FILTER = 1;
12793  run;

NOTE: DATA STEP view saved on file WORK.DATA_EXCLUDED.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      

NOTE: There were 23000 observations read from the data set SUPERMKT.SUPERMARKETCAMPAIGN.
NOTE: There were 23000 observations read from the data set EMWS4.IDS_DATA.
NOTE: There were 23000 observations read from the data set EMWS4.REPL_TRAIN.
NOTE: View EMWS4.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.37 seconds
      cpu time            0.36 seconds
      
NOTE: There were 20035 observations read from the data set EMWS4.FILTER_TRAIN.
NOTE: There were 23000 observations read from the data set SUPERMKT.SUPERMARKETCAMPAIGN.
NOTE: There were 23000 observations read from the data set EMWS4.IDS_DATA.
NOTE: There were 23000 observations read from the data set EMWS4.REPL_TRAIN.
NOTE: There were 20035 observations read from the data set EMWS4.FILTER_TRAIN.
NOTE: View WORK.DATA_FILTERED.VIEW used (Total process time):
      real time           0.42 seconds
      cpu time            0.42 seconds
      
NOTE: There were 20035 observations read from the data set EMWS4.CLUS2_TRAIN.
12794  data WORK.Filter3COUNT;
12795  length DATAROLE $16;
12796  label DATAROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, NOQUOTE))" FILTERED = "%sysfunc(sasmsg(sashelp.dmine, rpt_filtered_vlabel, NOQUOTE))" EXCLUDED = "%sysfunc(sasmsg(sashelp.dmine, rpt_excluded_vlabel, NOQUOTE))";
12797  DATAROLE = 'TRAIN';
12798  DATA = 20035;
12799  FILTERED = 6224;
12800  EXCLUDED = 13811;
12801  output;
12802  run;

NOTE: The data set WORK.FILTER3COUNT has 1 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

12803  proc print data=WORK.Filter3COUNT noobs label;
12804  title9 ' ';
12805  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_numberobs_title, NOQUOTE))";
12806  run;

NOTE: There were 1 observations read from the data set WORK.FILTER3COUNT.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12807  title9;
12808  title10;

12809  *------------------------------------------------------------*;
12810  * createstattable;
12811  *------------------------------------------------------------*;
12812  *------------------------------------------------------------* ;
12813  * Filter3: DMDBClass Macro ;
12814  *------------------------------------------------------------* ;
12815  %macro DMDBClass;
12816      TargetBuy(DESC) _SEGMENT_LABEL_(ASC)
12817  %mend DMDBClass;
12818  *------------------------------------------------------------* ;
12819  * Filter3: DMDBVar Macro ;
12820  *------------------------------------------------------------* ;
12821  %macro DMDBVar;
12822  
12823  %mend DMDBVar;
12824  *------------------------------------------------------------*;
12825  * Filter3: Create DMDB;
12826  *------------------------------------------------------------*;
12827  proc dmdb batch data=WORK.DATA_FILTERED
12828  dmdbcat=WORK.Filter3_DMDB
12829  maxlevel = 513
12830  ;
12831  class %DMDBClass;
12832  target
12833  TargetBuy
12834  ;
12835  run;

NOTE: Records processed = 6224   Memory used = 511K.
NOTE: There were 23000 observations read from the data set SUPERMKT.SUPERMARKETCAMPAIGN.
NOTE: There were 23000 observations read from the data set EMWS4.IDS_DATA.
NOTE: There were 23000 observations read from the data set EMWS4.REPL_TRAIN.
NOTE: There were 20035 observations read from the data set EMWS4.FILTER_TRAIN.
NOTE: View WORK.DATA_FILTERED.VIEW used (Total process time):
      real time           0.46 seconds
      cpu time            0.45 seconds
      
NOTE: There were 20035 observations read from the data set EMWS4.CLUS2_TRAIN.
NOTE: There were 6224 observations read from the data set WORK.DATA_FILTERED.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.50 seconds
      cpu time            0.48 seconds
      

12836  quit;
12837  *--- end code ---*;

12838  *------------------------------------------------------------*;
12839  * createhistogramtable;
12840  *------------------------------------------------------------*;
12841  data WORK.Filter3DMDBC;
12842  set WORK.Filter3DMDBC(where=(report='Y'));
12843  run;

NOTE: There were 0 observations read from the data set WORK.FILTER3DMDBC.
      WHERE report='Y';
NOTE: The data set WORK.FILTER3DMDBC has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12844  filename vdist catalog 'SASHELP.EMUTIL.EM_VARDIST.SOURCE';
12845  %inc vdist;
13241  filename vdist;
NOTE: Fileref VDIST has been deassigned.
13242  %let em_nodeid = Filter3;
13243  %var_profile(DATA=EMWS4.Clus2_TRAIN, OUTPUT=WORK._HISTDATA, METADATA=WORK.Filter3DMDBC, COMPUTESTAT=N, BINDATA=_bindata, STAT=_STAT, FREQ=, BIN=Y, NUMBARS= 16);
*------------------------------------------------------------*
* Filter3: Computing Summary Statistics
*------------------------------------------------------------*

NOTE: There were 0 observations read from the data set WORK.FILTER3DMDBC.
      WHERE (LEVEL='INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Wed, May  9, 2018 03:10:05 PM,
      Last Modified=Wed, May  9, 2018 03:10:06 PM,
      Filename=C:\Users\Mohamed\AppData\Local\Temp\SAS Temporary Files\_TD4984_DESKTOP-MVTLU7L_\macros.sas7bcat,
      Release Created=9.0401M4,
      Host Created=X64_10HOME,
      Owner Name=DESKTOP-MVTLU7L\Mohamed,
      File Size=            21KB,
      File Size (bytes)=21504

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Fileref _MAC has been deassigned.

13246  %var_profile(DATA=WORK.DATA_FILTERED, OUTPUT=WORK._HISTDATA, METADATA=WORK.Filter3DMDBC, COMPUTESTAT=N, STAT=_STAT, BIN=Y, BINDATA=_bindata, NUMBARS= 16);
*------------------------------------------------------------*
* Filter3: Computing Summary Statistics
*------------------------------------------------------------*

NOTE: There were 0 observations read from the data set WORK.FILTER3DMDBC.
      WHERE (LEVEL='INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Wed, May  9, 2018 03:10:05 PM,
      Last Modified=Wed, May  9, 2018 03:10:13 PM,
      Filename=C:\Users\Mohamed\AppData\Local\Temp\SAS Temporary Files\_TD4984_DESKTOP-MVTLU7L_\macros.sas7bcat,
      Release Created=9.0401M4,
      Host Created=X64_10HOME,
      Owner Name=DESKTOP-MVTLU7L\Mohamed,
      File Size=            21KB,
      File Size (bytes)=21504

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Fileref _MAC has been deassigned.

13249  *------------------------------------------------------------*;
13250  * Filter3: Creating Bar Chart Table;
13251  *------------------------------------------------------------*;
13252  filename cdist catalog 'SASHELP.EMUTIL.EM_CLASSDIST.SOURCE';
13253  %inc cdist;
13367  filename cdist;
NOTE: Fileref CDIST has been deassigned.
13368  %let em_nodeid = Filter3;
13369  %class_profile(DATA=EMWS4.Clus2_TRAIN, OUTPUT=WORK._BARDATA, METADATA=WORK.Filter3DMDBC, STAT=_STAT);

NOTE: There were 0 observations read from the data set WORK.FILTER3DMDBC.
      WHERE (LEVEL not = 'INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Wed, May  9, 2018 03:10:05 PM,
      Last Modified=Wed, May  9, 2018 03:10:13 PM,
      Filename=C:\Users\Mohamed\AppData\Local\Temp\SAS Temporary Files\_TD4984_DESKTOP-MVTLU7L_\macros.sas7bcat,
      Release Created=9.0401M4,
      Host Created=X64_10HOME,
      Owner Name=DESKTOP-MVTLU7L\Mohamed,
      File Size=            21KB,
      File Size (bytes)=21504

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Fileref _MAC has been deassigned.

13372  %class_profile(DATA=WORK.DATA_FILTERED, OUTPUT=WORK._BARDATA, METADATA=WORK.Filter3DMDBC, STAT=_STAT);

NOTE: There were 0 observations read from the data set WORK.FILTER3DMDBC.
      WHERE (LEVEL not = 'INTERVAL') and (ROLE not = 'FREQ');
NOTE: The data set WORK._NULL has 0 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Wed, May  9, 2018 03:10:05 PM,
      Last Modified=Wed, May  9, 2018 03:10:13 PM,
      Filename=C:\Users\Mohamed\AppData\Local\Temp\SAS Temporary Files\_TD4984_DESKTOP-MVTLU7L_\macros.sas7bcat,
      Release Created=9.0401M4,
      Host Created=X64_10HOME,
      Owner Name=DESKTOP-MVTLU7L\Mohamed,
      File Size=            21KB,
      File Size (bytes)=21504

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Fileref _MAC has been deassigned.

13375  *------------------------------------------------------------*;
13376  * Filter3: Computing metadata for TRAIN data;
13377  *------------------------------------------------------------*;

NOTE: View EMWS4.FILTER3_TRAIN.VIEW used (Total process time):
      real time           0.29 seconds
      cpu time            0.29 seconds
      
NOTE: View EMWS4.FILTER3_TRAIN.VIEW used (Total process time):
      real time           0.36 seconds
      cpu time            0.35 seconds
      
